<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://github.com/111zx/111zx.github.io/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="zx">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://github.com/111zx/111zx.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-文件传输系统" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/06/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E7%B3%BB%E7%BB%9F/" class="article-date">
  <time datetime="2020-07-06T05:26:11.647Z" itemprop="datePublished">2020-07-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/06/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E7%B3%BB%E7%BB%9F/">文件传输系统</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="文件传输系统"><a href="#文件传输系统" class="headerlink" title="文件传输系统"></a>文件传输系统</h1><h2 id="功能介绍"><a href="#功能介绍" class="headerlink" title="功能介绍"></a>功能介绍</h2><p>实现建议的文件传输功能，具有客户端和服务器端文件列表。</p>
<h2 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h2><ul>
<li><p>登陆界面</p>
<p><img src="/111zx/111zx.github.io/2020/07/06/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E7%B3%BB%E7%BB%9F/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200706132147507.png" alt="image-20200706132147507"></p>
</li>
<li><p>管理员管理服务端文件列表</p>
<p><img src="/111zx/111zx.github.io/2020/07/06/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E7%B3%BB%E7%BB%9F/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200706132231039.png" alt="image-20200706132231039"></p>
</li>
<li><p>客户端文件目录界面</p>
<p><img src="/111zx/111zx.github.io/2020/07/06/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E7%B3%BB%E7%BB%9F/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200706132333266.png" alt="image-20200706132333266"></p>
</li>
<li><p>客户端文件列表界面</p>
<p><img src="/111zx/111zx.github.io/2020/07/06/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E7%B3%BB%E7%BB%9F/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200706132416152.png" alt="image-20200706132416152"></p>
</li>
<li><p>客户端浏览远程文件列表</p>
<p><img src="/111zx/111zx.github.io/2020/07/06/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E7%B3%BB%E7%BB%9F/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200706132443544.png" alt="image-20200706132443544"></p>
</li>
</ul>
<h2 id="操作说明"><a href="#操作说明" class="headerlink" title="操作说明"></a>操作说明</h2><ol>
<li><p>启动服务器</p>
<p>运行FileServer文件</p>
</li>
<li><p>启动登陆程序</p>
<p>运行Login或者adminLogin（管理员）文件</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/111zx/111zx.github.io/2020/07/06/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E7%B3%BB%E7%BB%9F/" data-id="ckctx5cog0001egub4wvx4qbf" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-1. 点击文件树显示文件列表" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/05/1.%20%E7%82%B9%E5%87%BB%E6%96%87%E4%BB%B6%E6%A0%91%E6%98%BE%E7%A4%BA%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8/" class="article-date">
  <time datetime="2020-07-04T23:39:06.793Z" itemprop="datePublished">2020-07-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/05/1.%20%E7%82%B9%E5%87%BB%E6%96%87%E4%BB%B6%E6%A0%91%E6%98%BE%E7%A4%BA%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8/">1. 点击文件树显示文件列表</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="1-点击文件树显示文件列表"><a href="#1-点击文件树显示文件列表" class="headerlink" title="1. 点击文件树显示文件列表"></a>1. 点击文件树显示文件列表</h4><ul>
<li>例如：点击图1的某一个目录， 显示对应文件夹里的所有内容。</li>
</ul>
<img src="/111zx/111zx.github.io/2020/07/05/1.%20%E7%82%B9%E5%87%BB%E6%96%87%E4%BB%B6%E6%A0%91%E6%98%BE%E7%A4%BA%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8/Users\14914\AppData\Roaming\Typora\typora-user-images\image-20200705073057578.png" alt="image-20200705073057578" style="zoom: 80%;">

<img src="file:///C:\Users\14914\Documents\Tencent Files\1491476847\Image\Group2\W1\`S\W1`SHH0$P[1T1QEY02E9MLP.png" alt="img" style="zoom: 50%;">

<h4 id="2-文件列表的界面设计"><a href="#2-文件列表的界面设计" class="headerlink" title="2. 文件列表的界面设计"></a>2. 文件列表的界面设计</h4><ul>
<li>需要有最后一次修改的时间</li>
<li>最少有两个按钮：<ul>
<li>客户端文件列表：上传和退出</li>
<li>服务器文件列表：下载和退出，还有一个搜索文件功能。</li>
</ul>
</li>
</ul>
<h4 id="3-客户端需要从服务器端获取服务器端的文件列表界面，界面上需要有下载和搜索功能。"><a href="#3-客户端需要从服务器端获取服务器端的文件列表界面，界面上需要有下载和搜索功能。" class="headerlink" title="3. 客户端需要从服务器端获取服务器端的文件列表界面，界面上需要有下载和搜索功能。"></a>3. 客户端需要从服务器端获取服务器端的文件列表界面，界面上需要有下载和搜索功能。</h4><ul>
<li>服务器端供下载的文件保存在一个文件夹里。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/111zx/111zx.github.io/2020/07/05/1.%20%E7%82%B9%E5%87%BB%E6%96%87%E4%BB%B6%E6%A0%91%E6%98%BE%E7%A4%BA%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8/" data-id="ckctx5coc0000egubejnoc0pl" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-IO流" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/06/22/IO%E6%B5%81/" class="article-date">
  <time datetime="2020-06-22T09:12:29.906Z" itemprop="datePublished">2020-06-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/06/22/IO%E6%B5%81/">IO流</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="IO流"><a href="#IO流" class="headerlink" title="IO流"></a>IO流</h1><h2 id="1-File类的使用"><a href="#1-File类的使用" class="headerlink" title="1 File类的使用"></a>1 File类的使用</h2><ul>
<li>File类的一个对象，代表一个文件或者一个文件目录（俗称：文件夹）</li>
<li>File类声明在java.io包下</li>
</ul>
<h3 id="1-1-实例化"><a href="#1-1-实例化" class="headerlink" title="1-1 实例化"></a>1-1 实例化</h3><ul>
<li><p>由于不同平台下的路径分隔符不同，所以javaFile类提供了一个常量</p>
<p>public static final String separtor</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);<span class="comment">//相对路径，相较于当前moudle下</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        /使用\\的原因是：\在java中是转义符</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        File file1 = <span class="keyword">new</span> File(<span class="string">"D:\\hello.txt"</span>);<span class="comment">//绝对路径</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        路径分隔符常量</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        File file2 = <span class="keyword">new</span> File(<span class="string">"D:"</span>+File.separator+<span class="string">"hello.txt"</span>);<span class="comment">//绝对路径</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>构造器2</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">File file3 = <span class="keyword">new</span> File(<span class="string">"D:\\hello"</span>,<span class="string">"hello.txt"</span>);<span class="comment">//文件目录下创建文件</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>构造器3</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">File file4 = <span class="keyword">new</span> File(file3,<span class="string">"hello.txt"</span>);<span class="comment">//在file3目录下创建文件</span></span><br></pre></td></tr></table></figure>


</li>
</ul>
<h2 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h2><h3 id="常规方法"><a href="#常规方法" class="headerlink" title="常规方法"></a>常规方法</h3><ul>
<li><p>public String getAbsolutePath()</p>
<p>绝对路径</p>
</li>
<li><p>public String getPath()</p>
<p>相对路径：</p>
<ul>
<li>在JUnit单元测试方法下：在当前的module（idea）下</li>
<li>在main方法下：在当前工程下</li>
<li>在eclipse中：都是在当前工程下</li>
</ul>
</li>
<li><p>public String getName()</p>
<p>文件名</p>
</li>
<li><p>public String getParent()</p>
<p>上层目录</p>
</li>
<li><p>public long length()</p>
<p>长度</p>
</li>
<li><p>public long lastModified()</p>
<p>最近修改时间，获取的是毫秒数，可以用如下形式查看具体日期</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Date(file.lastModified());</span><br></pre></td></tr></table></figure>
</li>
<li><p>public String[] list()</p>
<p>获取文件目录下的文件name列表</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String[] list = file.list();</span><br><span class="line"><span class="keyword">for</span>(String fstr : list)&#123;</span><br><span class="line">    sout(fstr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>public File[] listFiles()</p>
<p>获取文件目录下的文件绝对路径列表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">File[] file &#x3D; file.listFiles();</span><br><span class="line">for(File fstr : file)&#123;</span><br><span class="line">    sout(fstr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>public boolean renameTo(File dest)</p>
<p>把文件重命名为指定的文件路径</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">需要保证file1存在且file2不存在</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">File file = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line">File file1 = <span class="keyword">new</span> File(<span class="string">"D:\\hi.txt"</span>);</span><br><span class="line"><span class="keyword">boolean</span> renameTo = file1.renameTo(file);<span class="comment">//将file移动到file1路径中</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="判断方法"><a href="#判断方法" class="headerlink" title="判断方法"></a>判断方法</h3><ul>
<li><strong>public boolean isDirectory()</strong>:判断是否是文件目录</li>
<li><strong>public boolean isFile()</strong>:判断是否是文件</li>
<li><strong>public boolean isexists()</strong>:判断是否存在</li>
<li>public boolean isRead():判断是否可读</li>
<li>public boolean isWrite():判断是否可写</li>
<li>public boolean isHidden():判断是否隐藏</li>
</ul>
<h3 id="创建方法"><a href="#创建方法" class="headerlink" title="创建方法"></a>创建方法</h3><ul>
<li><strong>public boolean createNewFile()</strong>:创建文件。若文件存在，则不创建，返回false。</li>
<li>public boolean mkdir()：创建文件目录，如果文件目录存在，就不创建了。如果此文件目录的上层目录不存在，也不创建。</li>
<li><strong>public boolean mkdirs()</strong>：创建文件目录。如果上层文件目录不存在，一并创建。</li>
</ul>
<h3 id="删除方法"><a href="#删除方法" class="headerlink" title="删除方法"></a>删除方法</h3><ul>
<li>public boolean delete():删除文件或者文件夹，java中的删除不走回收站。</li>
</ul>
<p><img src="/111zx/111zx.github.io/2020/06/22/IO%E6%B5%81/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200701090735274.png" alt="image-20200701090735274"></p>
<h2 id="2-IO流"><a href="#2-IO流" class="headerlink" title="2. IO流"></a>2. IO流</h2><h3 id="2-1-IO流原理及流的分类"><a href="#2-1-IO流原理及流的分类" class="headerlink" title="2-1 IO流原理及流的分类"></a>2-1 IO流原理及流的分类</h3><ul>
<li>IO是input和output的缩写，用于处理设备之间的数据传输</li>
<li>Java程序中，对于数据的输入输出操作以“流”的方式进行。<ul>
<li>输入：读取外部数据（磁盘，光盘等存储设备中的数据）到程序（内存）中。</li>
<li>输出：将程序（内存）数据输出到磁盘，光盘等存储设备中。</li>
</ul>
</li>
<li>流的分类：<ul>
<li>按照操作数据单位不同分为：字节流（8 bit，适用于非文本数据），字符（char）流（16 bit，适用于文本数据）</li>
<li>按照流的角色：节点流（作用在文件上），处理流（作用在已有的流的基础上）</li>
<li>流向：输入流，输出流</li>
</ul>
</li>
</ul>
<h3 id="2-2-IO流的结构体系"><a href="#2-2-IO流的结构体系" class="headerlink" title="2-2 IO流的结构体系"></a>2-2 IO流的结构体系</h3><p><img src="/111zx/111zx.github.io/2020/06/22/IO%E6%B5%81/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200701103906445.png" alt="image-20200701103906445"></p>
<p><img src="/111zx/111zx.github.io/2020/06/22/IO%E6%B5%81/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200701103959183.png" alt="image-20200701103959183"></p>
<h3 id="2-3-FileReader读入数据的基本操作"><a href="#2-3-FileReader读入数据的基本操作" class="headerlink" title="2-3 FileReader读入数据的基本操作"></a>2-3 FileReader读入数据的基本操作</h3><ul>
<li><p>硬盘中文件内容读取到内存，并输出到控制台</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//异常处理版本1</span></span><br><span class="line"><span class="comment">//在出现异常时流可能不会关闭直接结束当前方法，浪费资源</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">读入的时候文件一定要存在，否则会报异常</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFileReader</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//实例化文件</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line">        <span class="comment">//创建输出流</span></span><br><span class="line">        FileReader fr = <span class="keyword">new</span> FileReader(file);</span><br><span class="line">        <span class="comment">//显示输出流</span></span><br><span class="line">        <span class="keyword">int</span> read = fr.read();<span class="comment">//返回读取的字符的ASSCI码，如果到达文件末尾返回-1</span></span><br><span class="line">        <span class="keyword">while</span>(read != -<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.print((<span class="keyword">char</span>) read);</span><br><span class="line">            read = fr.read();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//关闭流</span></span><br><span class="line">        fr.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//异常处理版本2</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">保证了就算出现异常，流也会关闭</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFileReader</span><span class="params">()</span></span>&#123;</span><br><span class="line">        FileReader fr = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//实例化文件</span></span><br><span class="line">            File file = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line">            <span class="comment">//创建输出流</span></span><br><span class="line">            fr = <span class="keyword">new</span> FileReader(file);</span><br><span class="line">            <span class="comment">//显示输出流</span></span><br><span class="line">            <span class="keyword">int</span> read = fr.read();<span class="comment">//返回读取的字符的ASSCI码，如果到达文件末尾返回-1</span></span><br><span class="line">            <span class="keyword">while</span>(read != -<span class="number">1</span>)&#123;</span><br><span class="line">                System.out.print((<span class="keyword">char</span>) read);</span><br><span class="line">                read = fr.read();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">//关闭流</span></span><br><span class="line">            <span class="keyword">if</span>(fr != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fr.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>read方法的重载使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 使用read方法的重载</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFileReader1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        FileReader fr = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//File类实例化</span></span><br><span class="line">            File file = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line">            <span class="comment">//FileReader流的实例化</span></span><br><span class="line">            fr = <span class="keyword">new</span> FileReader(file);</span><br><span class="line">            <span class="comment">//读入的操作</span></span><br><span class="line">            <span class="keyword">char</span>[] ch = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">5</span>];</span><br><span class="line">            <span class="keyword">int</span> len;</span><br><span class="line">            <span class="comment">//错误写法，数组只会覆盖，所以会出现多余的元素</span></span><br><span class="line">   	<span class="comment">//            while((len = fr.read(ch)) != -1)&#123;</span></span><br><span class="line"><span class="comment">//                for (int i = 0; i &lt; ch.length; i++) &#123;</span></span><br><span class="line"><span class="comment">//                    System.out.print(ch[i]);</span></span><br><span class="line"><span class="comment">//                &#125;;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">            <span class="keyword">while</span>((len = fr.read(ch)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                    System.out.print(ch[i]);</span><br><span class="line">                &#125;;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//或者这样</span></span><br><span class="line">            <span class="keyword">while</span>((len = fr.read(ch)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                String str = <span class="keyword">new</span> Stirng(ch,<span class="number">0</span>,len);</span><br><span class="line">                System.out.print(str);</span><br><span class="line">            &#125;</span><br><span class="line">            String str = </span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">//资源的关闭</span></span><br><span class="line">            <span class="keyword">if</span>(fr != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fr.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>


</li>
</ul>
<h3 id="2-4-FileWriter写出数据的基本操作"><a href="#2-4-FileWriter写出数据的基本操作" class="headerlink" title="2-4 FileWriter写出数据的基本操作"></a>2-4 FileWriter写出数据的基本操作</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 如果对应的File不存在，不会报异常，会自动创建这个文件</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFileW</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//提供文件类的对象，指明写出到的文件</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">"hello1.txt"</span>);</span><br><span class="line">        <span class="comment">//提供FileWriter的对象，用于数据的写出</span></span><br><span class="line">        FileWriter fw = <span class="keyword">new</span> FileWriter(file,<span class="keyword">true</span>);<span class="comment">//追加</span></span><br><span class="line">        <span class="comment">//FileWriter fw = new FileWriter(file,false); //覆盖</span></span><br><span class="line">        <span class="comment">//写出的操作</span></span><br><span class="line">        fw.write(<span class="string">"I have a dream \n"</span>);</span><br><span class="line">        fw.write(<span class="string">"You have a dream \n"</span>);</span><br><span class="line">        <span class="comment">//资源的关闭</span></span><br><span class="line">        fw.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-5-结合使用读写操作"><a href="#2-5-结合使用读写操作" class="headerlink" title="2-5 结合使用读写操作"></a>2-5 结合使用读写操作</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFileRW</span><span class="params">()</span></span>&#123;</span><br><span class="line">       FileReader fr = <span class="keyword">null</span>;</span><br><span class="line">       FileWriter fw = <span class="keyword">null</span>;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           <span class="comment">//创建File类的对象，表明文件名</span></span><br><span class="line">           File srcFile = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line">           File destFile = <span class="keyword">new</span> File(<span class="string">"hello2.txt"</span>);</span><br><span class="line">           <span class="comment">//创建输入流和输出流对象</span></span><br><span class="line">           fr = <span class="keyword">new</span> FileReader(srcFile);</span><br><span class="line">           fw = <span class="keyword">new</span> FileWriter(destFile);</span><br><span class="line">           <span class="comment">/* 数据的读入和写出 */</span></span><br><span class="line">           <span class="keyword">char</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">5</span>];</span><br><span class="line">           <span class="keyword">int</span> len;</span><br><span class="line">           <span class="keyword">while</span>((len = fr.read(cbuf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">               <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                   fw.write(cbuf[i]);</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">           <span class="comment">//关闭资源</span></span><br><span class="line">           <span class="keyword">try</span> &#123;</span><br><span class="line">               fw.close();</span><br><span class="line">               fr.close();</span><br><span class="line">           &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">               e.printStackTrace();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-6-FileInputStream"><a href="#2-6-FileInputStream" class="headerlink" title="2-6 FileInputStream"></a>2-6 FileInputStream</h3><ul>
<li>在处理含有中文的文本文件时会出现错误，一个中文3个子节，一个英文1个子节。例如：buffer是5个子节，先录入3个英文，在准备录入一个中文时，只剩下2个子节的位置，就必须将中文拆开，结果会导致乱码出现。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFIS</span><span class="params">()</span></span>&#123;</span><br><span class="line">        FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            File file = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line"></span><br><span class="line">            fis = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">5</span>];</span><br><span class="line">            <span class="keyword">int</span> len;</span><br><span class="line">            <span class="keyword">while</span>((len = fis.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                String str = <span class="keyword">new</span> String(buffer, <span class="number">0</span>, len);</span><br><span class="line">                System.out.print(str);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-7-FileOutputStream"><a href="#2-7-FileOutputStream" class="headerlink" title="2-7 FileOutputStream"></a>2-7 FileOutputStream</h3><ul>
<li>结合FIS处理非文本文件</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFOS</span><span class="params">()</span></span>&#123;</span><br><span class="line">        FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">        FileOutputStream fos = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//创建File类的对象，表明文件名</span></span><br><span class="line">            File srcFile = <span class="keyword">new</span> File(<span class="string">"hello.jpg"</span>);</span><br><span class="line">            File destFile = <span class="keyword">new</span> File(<span class="string">"hello2.jpg"</span>);</span><br><span class="line">            <span class="comment">//创建输入流和输出流对象</span></span><br><span class="line">            fis = <span class="keyword">new</span> FileInputStream(srcFile);</span><br><span class="line">            fos = <span class="keyword">new</span> FileOutputStream(destFile);</span><br><span class="line">            <span class="comment">/* 数据的读入和写出 */</span></span><br><span class="line">            <span class="keyword">byte</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">5</span>];</span><br><span class="line">            <span class="keyword">int</span> len;</span><br><span class="line">            <span class="keyword">while</span>((len = fis.read(cbuf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                    fos.write(cbuf[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">//关闭资源</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//关闭资源</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-8-赋值指定路径文件"><a href="#2-8-赋值指定路径文件" class="headerlink" title="2-8 赋值指定路径文件"></a>2-8 赋值指定路径文件</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">copyFile</span><span class="params">(String srcPath,String destPath)</span></span>&#123;</span><br><span class="line">        FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">        FileOutputStream fos = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//创建File类的对象，表明文件名</span></span><br><span class="line">            File srcFile = <span class="keyword">new</span> File(srcPath);</span><br><span class="line">            File destFile = <span class="keyword">new</span> File(destPath);</span><br><span class="line">            <span class="comment">//创建输入流和输出流对象</span></span><br><span class="line">            fis = <span class="keyword">new</span> FileInputStream(srcFile);</span><br><span class="line">            fos = <span class="keyword">new</span> FileOutputStream(destFile);</span><br><span class="line">            <span class="comment">/* 数据的读入和写出 */</span></span><br><span class="line">            <span class="keyword">byte</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="keyword">int</span> len;</span><br><span class="line">            <span class="keyword">while</span>((len = fis.read(cbuf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                    fos.write(cbuf[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">//关闭资源</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//关闭资源</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCopyFile</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">        String srcPath = <span class="string">"C:\\Users\\14914\\Desktop\\1.avi"</span>;</span><br><span class="line">        String destPath = <span class="string">"C:\\Users\\14914\\Desktop\\2.avi"</span>;</span><br><span class="line"></span><br><span class="line">        copyFile(srcPath,destPath);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"花费了"</span> + (end-start));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>如果是.txt文件，只要不经过内存的读取，也可以用FileInputStream进行复制，只会在控制台上显示乱码，文本文件中不会出现乱码，文本文件的复制不经过内存都是2进制复制，不会出现中文3子节不够的情况。</strong></li>
</ul>
<h3 id="2-9-缓冲流"><a href="#2-9-缓冲流" class="headerlink" title="2-9 缓冲流"></a>2-9 缓冲流</h3><ul>
<li>在节点流上加上一层缓冲流</li>
<li>缓冲流的效率更加快，到达一定量的积累后才会对硬盘进行读取，而不是每一次操作都需要读取磁盘。</li>
<li><strong>关闭资源的时候先关闭外层（缓冲流）的资源，再关闭内层，java在关闭外层资源时，会自动关闭内层资源，所以只需要关闭外层资源即可。</strong></li>
<li>flush():清空缓存区。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BufferTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buffIOtest</span><span class="params">(String srcPath,String destPath)</span></span>&#123;</span><br><span class="line">        BufferedInputStream bis = <span class="keyword">null</span>;</span><br><span class="line">        BufferedOutputStream bos = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//创建File类的对象，表明文件名</span></span><br><span class="line">            File srcFile = <span class="keyword">new</span> File(srcPath);</span><br><span class="line">            File destFile = <span class="keyword">new</span> File(destPath);</span><br><span class="line">            <span class="comment">//创建输入流和输出流对象</span></span><br><span class="line">            FileInputStream fis = <span class="keyword">new</span> FileInputStream(srcFile);</span><br><span class="line">            FileOutputStream fos= <span class="keyword">new</span> FileOutputStream(destFile);</span><br><span class="line">            <span class="comment">//创建缓冲流</span></span><br><span class="line">            bis = <span class="keyword">new</span> BufferedInputStream(fis);</span><br><span class="line">            bos = <span class="keyword">new</span> BufferedOutputStream(fos);</span><br><span class="line">            <span class="comment">/* 数据的读入和写出 */</span></span><br><span class="line">            <span class="keyword">byte</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="keyword">int</span> len;</span><br><span class="line">            <span class="keyword">while</span>((len = bis.read(cbuf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                    bos.write(cbuf[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (bos != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    bos.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">            if (bis != null)&#123;</span></span><br><span class="line"><span class="comment">                try &#123;</span></span><br><span class="line"><span class="comment">                    bis.close();</span></span><br><span class="line"><span class="comment">                &#125; catch (IOException e) &#123;</span></span><br><span class="line"><span class="comment">                    e.printStackTrace();</span></span><br><span class="line"><span class="comment">                &#125;</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buffTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">        buffIOtest(<span class="string">"hello.txt"</span>, <span class="string">"hello2.txt"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-10-加密操作"><a href="#2-10-加密操作" class="headerlink" title="2-10 加密操作"></a>2-10 加密操作</h3><ul>
<li>加密</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">secretFile</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">"hello.jpg"</span>);</span><br><span class="line"></span><br><span class="line">        FileOutputStream fos = <span class="keyword">null</span>;</span><br><span class="line">        FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fis = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">            fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"hellosecret.jpg"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">20</span>];</span><br><span class="line">            <span class="keyword">int</span> len;</span><br><span class="line">            <span class="keyword">while</span>((len = fis.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                    buffer[i] = (<span class="keyword">byte</span>)(buffer[i] ^ <span class="number">5</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                fos.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(fis != <span class="keyword">null</span>)&#123;</span><br><span class="line">                    fis.close();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(fos != <span class="keyword">null</span>)&#123;</span><br><span class="line">                    fos.close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>解密</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">加密时异或5，解密时也异或5即可完成解密操作</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">secretFile</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">"hellosecret.jpg"</span>);</span><br><span class="line"></span><br><span class="line">        FileOutputStream fos = <span class="keyword">null</span>;</span><br><span class="line">        FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fis = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">            fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"hellosecret1.jpg"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">20</span>];</span><br><span class="line">            <span class="keyword">int</span> len;</span><br><span class="line">            <span class="keyword">while</span>((len = fis.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                    buffer[i] = (<span class="keyword">byte</span>)(buffer[i] ^ <span class="number">5</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                fos.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(fis != <span class="keyword">null</span>)&#123;</span><br><span class="line">                    fis.close();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(fos != <span class="keyword">null</span>)&#123;</span><br><span class="line">                    fos.close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-11-文件中字符计数"><a href="#2-11-文件中字符计数" class="headerlink" title="2-11 文件中字符计数"></a>2-11 文件中字符计数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">countChar</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        FileReader fr = <span class="keyword">null</span>;</span><br><span class="line">        BufferedWriter bw = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Map&lt;Character,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">            fr = <span class="keyword">new</span> FileReader(<span class="string">"dbcp.txt"</span>);</span><br><span class="line">            <span class="keyword">int</span> c = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>((c = fr.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">char</span> ch = (<span class="keyword">char</span>)c;</span><br><span class="line">                <span class="keyword">if</span>(map.get(ch) == <span class="keyword">null</span>)&#123;</span><br><span class="line">                    map.put(ch, <span class="number">1</span>);</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    map.put(ch, map.get(ch) + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            bw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">"wordcount.txt"</span>));</span><br><span class="line">            Set&lt;Map.Entry&lt;Character,Integer&gt;&gt; entrySet = map.entrySet();</span><br><span class="line">            <span class="keyword">for</span>(Map.Entry&lt;Character,Integer&gt; entry : entrySet)&#123;</span><br><span class="line">                <span class="keyword">switch</span> (entry.getKey())&#123;</span><br><span class="line">                    <span class="keyword">case</span><span class="string">' '</span>:</span><br><span class="line">                        bw.write(<span class="string">"空格 ："</span>+entry.getValue());</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span><span class="string">'\t'</span>:</span><br><span class="line">                        bw.write(<span class="string">"tab："</span>+entry.getValue());</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span><span class="string">'\r'</span>:</span><br><span class="line">                        bw.write(<span class="string">"回车 ："</span>+entry.getValue());</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span><span class="string">'\n'</span>:</span><br><span class="line">                        bw.write(<span class="string">"换行 ："</span>+entry.getValue());</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">default</span>:</span><br><span class="line">                        bw.write(entry.getKey()+<span class="string">":"</span>+entry.getValue());</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                bw.newLine();</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(bw != <span class="keyword">null</span>)&#123;</span><br><span class="line">                    bw.close();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(fr != <span class="keyword">null</span>)&#123;</span><br><span class="line">                    fr.close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-12-转换流"><a href="#2-12-转换流" class="headerlink" title="2-12 转换流"></a>2-12 转换流</h3><ul>
<li>提供了字节流和字符流之间的转换</li>
<li>InputStreamReader（解码）<ul>
<li>将一个字节的输入流转换为字符的输入流</li>
</ul>
</li>
<li>OutputStreamWriter（编码）<ul>
<li>将一个字符的输出流转换为字节的输出流</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InputTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">        InputStreamReader isr = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fis = <span class="keyword">new</span> FileInputStream(<span class="string">"dbcp.txt"</span>);</span><br><span class="line">            <span class="comment">// 参数2指明了UTF-8 字符集，依据：文件当初保存的时候决定的字符集。</span></span><br><span class="line">            isr = <span class="keyword">new</span> InputStreamReader(fis,<span class="string">"UTF-8"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">char</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">20</span>];</span><br><span class="line">            <span class="keyword">int</span> len;</span><br><span class="line">            <span class="keyword">while</span> ((len = isr.read(cbuf) )!= -<span class="number">1</span>)&#123;</span><br><span class="line">                String str = <span class="keyword">new</span> String(cbuf,<span class="number">0</span>,len);</span><br><span class="line">                System.out.print(str);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (fis != <span class="keyword">null</span>)&#123;</span><br><span class="line">                    fis.close();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (isr != <span class="keyword">null</span>)&#123;</span><br><span class="line">                    isr.close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 用irs使用utf-8都进来，转换成gbk存进文件中</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        File file1 = <span class="keyword">new</span> File(<span class="string">"dbcp.txt"</span>);</span><br><span class="line">        File file2 = <span class="keyword">new</span> File(<span class="string">"dbcp2.txt"</span>);</span><br><span class="line"></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(file1);</span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(file2);</span><br><span class="line"></span><br><span class="line">        InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(fis,<span class="string">"UTF-8"</span>);</span><br><span class="line">        OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamWriter(fos,<span class="string">"GBK"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">char</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">int</span> len;</span><br><span class="line">        <span class="keyword">while</span>((len = isr.read(cbuf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            osw.write(cbuf, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        isr.close();</span><br><span class="line">        osw.close();</span><br><span class="line">        fis.close();</span><br><span class="line">        osw.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-13-字符集"><a href="#2-13-字符集" class="headerlink" title="2-13 字符集"></a>2-13 字符集</h3><ul>
<li>ASCII:美国标准信息交换码，用一个字节的7位可以表示</li>
<li>ISO08859-1：拉丁码表，欧洲码，最多两个字节编码</li>
<li>GB2312：中国的中文编码表，最多两个字节编码所有字符</li>
<li>GBK：升级版，融合了更多符号，最多两个字节编码所有字符</li>
<li>Unicode：国际标准编码，每个字符分配唯一的字符码。</li>
<li>UTF-8：变长的编码方式，1-4个子节表示一个字符</li>
</ul>
<h3 id="2-14-标准输入输出流"><a href="#2-14-标准输入输出流" class="headerlink" title="2-14 标准输入输出流"></a>2-14 标准输入输出流</h3><ul>
<li>System<ul>
<li>error</li>
<li>in：标准输入流，键盘的输入</li>
<li>out：标准输出流，控制台的输出</li>
</ul>
</li>
<li>System类的setIn,setOut方法对默认设备进行改变</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 标准流</span></span><br><span class="line"><span class="comment">    * 从键盘输入字符串，要求将读取到的整行字符串转成大写输出。然后继续进行输入操作，知道输入"e"，退出程序</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   @Test</span><br><span class="line">   public void test1() throws IOException &#123;</span><br><span class="line">       //方法1：Scanner，next()返回一个字符串</span><br><span class="line">       //方法2：System.in, System.in <span class="comment">---&gt; 转换流 ---&gt; BufferedReader的readline</span></span><br><span class="line"></span><br><span class="line">       InputStreamReader isr = new InputStreamReader(System.in);</span><br><span class="line">       BufferedReader br = new BufferedReader(isr);</span><br><span class="line">       while(true)&#123;</span><br><span class="line">           String data = br.readLine();</span><br><span class="line">           if("e".equalsIgnoreCase(data))&#123;</span><br><span class="line">               System.out.println("结束"</span><br><span class="line">               );</span><br><span class="line">               break;</span><br><span class="line">           &#125;</span><br><span class="line">           String upperCase = data.toUpperCase();// 转换成大写</span><br><span class="line">           System.out.println(upperCase);</span><br><span class="line">       &#125;</span><br><span class="line">       br.close();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-15-打印流"><a href="#2-15-打印流" class="headerlink" title="2-15 打印流"></a>2-15 打印流</h3><ul>
<li>实现将基本数据类型的数据格式转化为字符串输出</li>
<li>PrintStream和PrintWriter<ul>
<li>自动的flush</li>
<li>不会抛出IO异常</li>
<li>System.out返回的是PrintStream的实例</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 使用sout时不是在控制台输出，而是存到文件当中</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> FileNotFoundException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;</span><br><span class="line">        PrintStream ps= <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"testprintStream.txt"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建打印流，设置为自动刷新模式（写入换行符或者子节'\n'时都会刷新输出缓冲区）</span></span><br><span class="line">        ps = <span class="keyword">new</span> PrintStream(fos,<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//把标准输出流（控制台输出）改成文件</span></span><br><span class="line">        <span class="keyword">if</span>(ps != <span class="keyword">null</span>)&#123;</span><br><span class="line">            System.setOut(ps);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">255</span>; i++) &#123;</span><br><span class="line">            System.out.print((<span class="keyword">char</span>)i);</span><br><span class="line">            <span class="keyword">if</span>(i % <span class="number">50</span> ==<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-16-数据流"><a href="#2-16-数据流" class="headerlink" title="2-16 数据流"></a>2-16 数据流</h3><ul>
<li><p>DataInputStream，DataOutputStream</p>
</li>
<li><p>为了方便操作基本数据类型和String类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 数据流写入</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testDataStream</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        DataOutputStream dos = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            dos = <span class="keyword">new</span> DataOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"data.txt"</span>));</span><br><span class="line">            dos.writeUTF(<span class="string">"Tom"</span>);</span><br><span class="line">            dos.flush();</span><br><span class="line">            dos.writeInt(<span class="number">23</span>);</span><br><span class="line">            dos.flush();</span><br><span class="line">            dos.writeBoolean(<span class="keyword">true</span>);</span><br><span class="line">            dos.flush();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(dos != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    dos.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 数据流读取</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span></span>&#123;</span><br><span class="line">        DataInputStream dis = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        String name = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">int</span> age = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">boolean</span> isMale = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            dis = <span class="keyword">new</span> DataInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"data.txt"</span>));</span><br><span class="line">            <span class="comment">//读取顺序需要按照写入的顺序读取！</span></span><br><span class="line">            name = dis.readUTF();</span><br><span class="line">            age = dis.readInt();</span><br><span class="line">            isMale = dis.readBoolean();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                dis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(name);</span><br><span class="line">        System.out.println(age);</span><br><span class="line">        System.out.println(isMale);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-17-对象流"><a href="#2-17-对象流" class="headerlink" title="2-17 对象流"></a>2-17 对象流</h3><ul>
<li>ObjectInputStream和ObjectOutputStream</li>
<li>用于存储和读取基本数据类型数据或者对象的处理流。</li>
<li>序列化：用ObjectOutputStream保存基本数据类型数据或者对象，从内存写入文件</li>
<li>反序列化：用ObjectInputStream读取基本数据类型数据或者对象，文件读到内存</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 序列化：将内存中的java对象保存到磁盘中或者通过网络传输出去</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testOut</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ObjectOutputStream oos = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"objectStream.txt"</span>));</span><br><span class="line"></span><br><span class="line">        oos.writeObject(<span class="keyword">new</span> String(<span class="string">"hello zx!"</span>));</span><br><span class="line"></span><br><span class="line">        oos.flush();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(oos != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                oos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 反序列化：将磁盘或者网络中的对象还原为内存中的一个java对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testIn</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ObjectInputStream ois = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"objectStream.txt"</span>));</span><br><span class="line">        Object obj = ois.readObject();</span><br><span class="line">        String str = (String)obj;</span><br><span class="line">        System.out.println(str);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(ois != <span class="keyword">null</span>)</span><br><span class="line">            ois.close();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>可序列化对象需要满足的要求</p>
<ul>
<li><p>实现Serializable接口，不需要实现方法，需要定义private static final long serialVersionUID</p>
<ul>
<li><p>serialVersionUID用来表明类的不同版本间的兼容性，进行版本控制。</p>
</li>
<li><p>如果没有显示定义静态常量，jre会自动生成一个。如果对当前类做了修改，serialVersionUID会变化。<strong>反序列化和序列化时serialVersionUID会不兼容</strong>，出现错误。</p>
</li>
<li><p>除了当前类需要实现Serializable接口，也要保证内部所有属性可序列化。（默认基本数据类型和String可序列化，自定义类需要可序列化）</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 序列化：将内存中的java对象保存到磁盘中或者通过网络传输出去</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testOut</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ObjectOutputStream oos = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"objectStream.txt"</span>));</span><br><span class="line"></span><br><span class="line">        oos.writeObject(<span class="keyword">new</span> String(<span class="string">"hello zx!"</span>));</span><br><span class="line"></span><br><span class="line">        oos.flush();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(oos != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                oos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 反序列化：将磁盘或者网络中的对象还原为内存中的一个java对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testIn</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ObjectInputStream ois = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"objectStream.txt"</span>));</span><br><span class="line">        Object obj = ois.readObject();</span><br><span class="line">        String str = (String)obj;</span><br><span class="line">        System.out.println(str);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(ois != <span class="keyword">null</span>)</span><br><span class="line">            ois.close();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/111zx/111zx.github.io/2020/06/22/IO%E6%B5%81/" data-id="ckctx5coj0002egub5bg6cwwy" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-泛型" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/06/10/%E6%B3%9B%E5%9E%8B/" class="article-date">
  <time datetime="2020-06-10T03:05:18.791Z" itemprop="datePublished">2020-06-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/06/10/%E6%B3%9B%E5%9E%8B/">泛型</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ul>
<li><p>为什么需要泛型</p>
<ul>
<li>jdk5.0之前ArrayList内什么都能放，而5.0之后有了泛型，可以规定存放数据的类型</li>
</ul>
</li>
<li><p>使用泛型的好处</p>
<ul>
<li><strong>泛型不能是基本数据类型，要用包装类</strong></li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//没有使用泛型</span></span><br><span class="line">ArrayList list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">list.add(<span class="number">78</span>);<span class="comment">//存放学生的成绩</span></span><br><span class="line">list.add(<span class="string">"Tom"</span>);<span class="comment">//问题1：检测不出来是不合法数据</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(Object score : list)&#123;</span><br><span class="line">    <span class="comment">//问题2：强转时可能出现ClassCastException'</span></span><br><span class="line">    <span class="keyword">int</span> stuScore = (Integer)score;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用泛型</span></span><br><span class="line">ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">list.add(<span class="number">78</span>);<span class="comment">//存放学生的成绩</span></span><br><span class="line">list.add(<span class="string">"Tom"</span>);<span class="comment">//显示错误，不能存放此类元素</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(Object score : list)&#123;</span><br><span class="line">    <span class="comment">//避免了强转操作</span></span><br><span class="line">    <span class="keyword">int</span> stuScore = (Integer)score;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Iterator&lt;Integer&gt; iterator = list.iterator();</span><br><span class="line"><span class="keyword">while</span>(iterator.hasNext)&#123;</span><br><span class="line">    <span class="keyword">int</span> stuScore = iterator.next();</span><br><span class="line">  	sout(stuScore);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>集合中使用泛型<ul>
<li>集合接口在jdk5.0之后被定义为有泛型的结构</li>
<li>实例化集合时，可以指明具体的泛型类型</li>
<li>指明完类型后，需要按照类型进行操作</li>
<li>实例化时没有指明泛型，默认给java.lang.Object</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//泛型的嵌套使用</span></span><br><span class="line"></span><br><span class="line">Map&lt;String,Integer&gt; map = <span class="keyword">new</span> Map&lt;String,Integer&gt;();</span><br><span class="line">map.put(<span class="string">"Tom"</span>,<span class="number">1</span>);</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line">Set&lt;Map.Entry&lt;String,Integer&gt;&gt; entry = map.entryset();</span><br><span class="line">Iterator&lt;Map.Entry&lt;String,Integer&gt;&gt; iterator = entry.iterator();</span><br><span class="line"><span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">	Map.Entry&lt;String,Integer&gt; e = iterator.next();</span><br><span class="line">    String key = e.getKey();</span><br><span class="line">    <span class="keyword">int</span> value = e.getValue();</span><br><span class="line">    sout(key+<span class="string">"---"</span> value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="自定义泛型结构（泛型类，泛型接口，泛型方法）"><a href="#自定义泛型结构（泛型类，泛型接口，泛型方法）" class="headerlink" title="自定义泛型结构（泛型类，泛型接口，泛型方法）"></a>自定义泛型结构（泛型类，泛型接口，泛型方法）</h2><h3 id="自定义类"><a href="#自定义类" class="headerlink" title="自定义类"></a>自定义类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Order</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">	String orderName;</span><br><span class="line">    <span class="keyword">int</span> orderId;</span><br><span class="line">    </span><br><span class="line">    T orderT;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Order</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Order</span><span class="params">(String OrderName,<span class="keyword">int</span> orderId,T orderT)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.OrderName = OrderName;</span><br><span class="line">        <span class="keyword">this</span>.orderId = orderId;</span><br><span class="line">        <span class="keyword">this</span>.orderT = orderT;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getOrderT</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> orderT;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setOrderT</span><span class="params">(Y orderT)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.orderT = orderT;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//toString</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>测试类</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test1</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//如果定义了泛型类，实例化没有指明类的泛型，则认为此泛型类型为Object类型</span></span><br><span class="line">        <span class="comment">//要求：最好使用带泛型的</span></span><br><span class="line">        Order order = <span class="keyword">new</span> Order();</span><br><span class="line">        order.setOrderT(<span class="number">123</span>);</span><br><span class="line">        order.setOrderT(<span class="string">"ABC"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//建议实例化时指明类的泛型</span></span><br><span class="line">        Order&lt;String&gt; order1 = <span class="keyword">new</span> Order&lt;String&gt;(<span class="string">"A"</span>,<span class="number">1001</span>,<span class="string">"order:A"</span>)</span><br><span class="line">        order1.setOrderT(<span class="string">"AA:hello"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>如果继承了一个具有泛型的类，那么自己在声明的时候不表明泛型也具有泛型的功能。保留泛型也可以，就会变成泛型类，可以指定自己的泛型，可以和父类不同。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubOrder</span> <span class="keyword">extends</span> <span class="title">order</span>&lt;<span class="title">Integer</span>&gt;</span>&#123;</span><br><span class="line">    <span class="comment">///...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">       SubOrder subOrder = <span class="keyword">new</span> SubOrder();</span><br><span class="line">       subOrder.setOrderT(<span class="number">1</span>);<span class="comment">//继承父类的方法，也是只能传入Integer类型</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/111zx/111zx.github.io/2020/06/10/%E6%B3%9B%E5%9E%8B/" data-id="ckbbzdvsw000ft8ub407c4k69" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-软件体系结构课程报告" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/06/09/%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AF%BE%E7%A8%8B%E6%8A%A5%E5%91%8A/" class="article-date">
  <time datetime="2020-06-09T01:52:24.107Z" itemprop="datePublished">2020-06-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/06/09/%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AF%BE%E7%A8%8B%E6%8A%A5%E5%91%8A/">软件体系结构课程报告</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="软件体系结构课程报告"><a href="#软件体系结构课程报告" class="headerlink" title="软件体系结构课程报告"></a>软件体系结构课程报告</h1><p>[TOC]</p>
<h2 id="1．需求描述"><a href="#1．需求描述" class="headerlink" title="1．需求描述"></a>1．需求描述</h2><ul>
<li>要求开发一个Web图书管理系统，其中有三个角色，分别是超级管理员，管理员和普通用户。普通用户进入操作界面可以查询个人借阅信息，查询图书的信息以及对图书的借阅。管理员可以管理普通用户的信息，管理书籍信息。超级管理员可以管理普通管理员的个人信息，借阅的规则以及价格标准还有对首页公告栏的公告的编辑。对系统的要求是尽量保证用户的账号信息是安全的，不会泄露的；性能要求不是非常高，但也不能让用户等太长时间；操作页面一定要友好，简洁，大方，可上手性放在第一位；以后可能还会提出其他的要求，所以尽量做的扩展性好一些。</li>
</ul>
<h2 id="2．需求分析"><a href="#2．需求分析" class="headerlink" title="2．需求分析"></a>2．需求分析</h2><h3 id="2-1-功能性需求分析"><a href="#2-1-功能性需求分析" class="headerlink" title="2-1 功能性需求分析"></a>2-1 功能性需求分析</h3><h4 id="2-1-1-作为超级管理员"><a href="#2-1-1-作为超级管理员" class="headerlink" title="2-1-1 作为超级管理员"></a>2-1-1 作为超级管理员</h4><ol>
<li><p>添加管理员信息</p>
<ul>
<li>目的：增加普通管理员用户</li>
<li>基本事件流<ul>
<li>进入添加管理员信息页面</li>
<li>输入个人信息以及账号和密码</li>
<li>确认添加，完成操作</li>
</ul>
</li>
</ul>
</li>
<li><p>删除管理员信息</p>
<ul>
<li>目的：删除普通管理员用户</li>
<li>基本事件流<ul>
<li>进入删除管理员信息页面</li>
<li>选中待删除的管理员信息</li>
<li>确认删除，完成操作</li>
</ul>
</li>
</ul>
</li>
<li><p>查询管理员信息</p>
<ul>
<li>目的：查询普通管理员用户</li>
<li>基本事件流<ul>
<li>进入查询管理员信息页面</li>
<li>在文本框输入关键字</li>
<li>确认查询，获取查询结果，完成操作</li>
</ul>
</li>
</ul>
</li>
<li><p>修改管理员信息</p>
<ul>
<li>目的：修改普通管理员用户</li>
<li>基本事件流<ul>
<li>进入修改管理员信息页面</li>
<li>编辑信息</li>
<li>确认修改，完成操作</li>
</ul>
</li>
</ul>
</li>
<li><p>设置赏罚标准</p>
<ul>
<li>目的：规定借阅规则</li>
<li>基本事件流<ul>
<li>设置用户每次借阅的时长以及相对应的租金</li>
<li>如果超出租赁期限的惩罚金额</li>
<li>每个用户最多可以租赁多少本书籍</li>
</ul>
</li>
</ul>
</li>
<li><p>编辑公告栏</p>
<ul>
<li>目的：编辑公告栏，让用户知晓最近的活动</li>
<li>基本事件流<ul>
<li>进入编辑公告信息页面</li>
<li>编辑信息</li>
<li>确认编辑完成，完成操作</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id="2-1-2-作为普通管理员"><a href="#2-1-2-作为普通管理员" class="headerlink" title="2-1-2 作为普通管理员"></a>2-1-2 作为普通管理员</h4><ol>
<li><p>添加普通用户信息</p>
<ul>
<li>目的：增加普通用户</li>
<li>基本事件流<ul>
<li>进入添加普通用户信息页面</li>
<li>输入个人信息以及账号和密码</li>
<li>确认添加，完成操作</li>
</ul>
</li>
</ul>
</li>
<li><p>删除普通用户信息</p>
<ul>
<li>目的：删除普通用户</li>
<li>基本事件流<ul>
<li>进入删除普通用户信息页面</li>
<li>选中待删除的普通用户信息</li>
<li>确认删除，完成操作</li>
</ul>
</li>
</ul>
</li>
<li><p>查询普通用户信息</p>
<ul>
<li>目的：查询普通用户</li>
<li>基本事件流<ul>
<li>进入查询普通用户信息页面</li>
<li>在文本框输入关键字</li>
<li>确认查询，获取查询结果，完成操作</li>
</ul>
</li>
</ul>
</li>
<li><p>修改普通用户信息</p>
<ul>
<li>目的：修改普通用户</li>
<li>基本事件流<ul>
<li>进入修改普通用户信息页面</li>
<li>编辑信息</li>
<li>确认修改，完成操作</li>
</ul>
</li>
</ul>
</li>
<li><p>添加书籍信息</p>
<ul>
<li>目的：增加书籍</li>
<li>基本事件流<ul>
<li>进入添加书籍信息页面</li>
<li>输入书籍信息</li>
<li>确认添加，完成操作</li>
</ul>
</li>
</ul>
</li>
<li><p>删除书籍信息</p>
<ul>
<li>目的：删除书籍</li>
<li>基本事件流<ul>
<li>进入删除书籍信息页面</li>
<li>选中待删除的书籍信息</li>
<li>确认删除，完成操作</li>
</ul>
</li>
</ul>
</li>
<li><p>查询书籍信息</p>
<ul>
<li>目的：查询书籍</li>
<li>基本事件流<ul>
<li>进入查询书籍信息页面</li>
<li>在文本框输入关键字</li>
<li>确认查询，获取查询结果，完成操作</li>
</ul>
</li>
</ul>
</li>
<li><p>修改书籍信息</p>
<ul>
<li>目的：修改普通用户</li>
<li>基本事件流<ul>
<li>进入修改普通用户信息页面</li>
<li>编辑信息</li>
<li>确认修改，完成操作</li>
</ul>
</li>
</ul>
</li>
<li><p>查询书籍以及用户信息的编辑记录</p>
<ul>
<li>目的：删除失误后通过查询日志还原操作</li>
<li>基本事件流<ul>
<li>进入日志查询页面</li>
<li>在搜索框输入关键字，点击搜索按钮</li>
<li>返回查询结果，完成操作</li>
</ul>
</li>
</ul>
</li>
<li><p>查询借阅信息</p>
<ul>
<li>目的：查看图书和用户的借阅关系</li>
<li>基本事件流<ul>
<li>进入查询借阅信息页面</li>
<li>输入关键字，点击搜索</li>
<li>返回结果，完成操作</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id="2-1-3-作为普通用户"><a href="#2-1-3-作为普通用户" class="headerlink" title="2-1-3 作为普通用户"></a>2-1-3 作为普通用户</h4><ol>
<li><p>查询书籍信息</p>
<ul>
<li>目的：删除失误后通过查询日志还原操作</li>
<li>基本事件流<ul>
<li>进入日志查询页面</li>
<li>在搜索框输入关键字，点击搜索按钮</li>
<li>返回查询结果，完成操作</li>
</ul>
</li>
</ul>
</li>
<li><p>借阅书籍</p>
<ul>
<li>目的：借阅书籍</li>
</ul>
<ul>
<li>基本事件流<ul>
<li>进入查询书籍信息页面并成功找到待借阅书籍</li>
<li>选择借阅时长</li>
<li>确认借阅，完成操作</li>
</ul>
</li>
</ul>
</li>
<li><p>归还书籍</p>
<ul>
<li><p>目的：归还已经借阅的书籍</p>
</li>
<li><p>基本事件流</p>
<ul>
<li>进入归还书籍页面</li>
<li>选择归还书籍</li>
<li>在扫描二维码处扫描验证书籍信息</li>
<li>返回租金并上交租金</li>
<li>完成归还</li>
</ul>
</li>
</ul>
</li>
<li><p>查询个人信息</p>
<ul>
<li>目的：查看账户余额</li>
<li>基本事件流<ul>
<li>在首页右上角点击个人信息，进入个人信息页面</li>
<li>查看相关信息</li>
<li>完成操作</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="2-2-非功能性需求分析"><a href="#2-2-非功能性需求分析" class="headerlink" title="2-2 非功能性需求分析"></a>2-2 非功能性需求分析</h3><h4 id="2-2-1-可用性分析"><a href="#2-2-1-可用性分析" class="headerlink" title="2-2-1 可用性分析"></a>2-2-1 可用性分析</h4><p>​    ① 由于需求简单且传统，而且没有性能上的高要求，所以可用性很容易就可以达到指标</p>
<p>​    ② 需要日志来记录每次操作，出现BUG时可以及时找出导致BUG得原因并且及时解决。</p>
<p>​    ③ 需要一台备用服务器，采用主动冗余的方式来恢复故障中的服务器。</p>
<p>​    ④ 在软件完成后先进行内测使用，找出大部分BUG后再交给客户。</p>
<h4 id="2-2-2-可修改性分析"><a href="#2-2-2-可修改性分析" class="headerlink" title="2-2-2 可修改性分析"></a>2-2-2 可修改性分析</h4><p>​    ① 用户需求描述中提到拓展性要求高，所以尽量将模块与模块之间的关系做到高内聚，低耦合</p>
<p>​    ② 尽量通过接口来实现一些对象的功能</p>
<p>​    ③ 隐藏模块内部的实现信息</p>
<p>​    ④ 用配置文件修改，而不是每个代码都有修改</p>
<h4 id="2-2-3-性能分析"><a href="#2-2-3-性能分析" class="headerlink" title="2-2-3 性能分析"></a>2-2-3 性能分析</h4><p>​    ① 用户的性能要求并不是很高，所以不需要添加额外的硬件资源来提高性能</p>
<p>​    ② 通过一些精妙的算法来尽量提高性能，减少成本</p>
<p>​    ③ 也可采用高并发设计来提高性能</p>
<h4 id="2-2-4-安全性分析"><a href="#2-2-4-安全性分析" class="headerlink" title="2-2-4 安全性分析"></a>2-2-4 安全性分析</h4><p>​    ① 所有有关用户的操作必须要的到用户的授权</p>
<p>​    ② 使用https提高安全性</p>
<p>​    ③ 用户信息不要暴露再页面中</p>
<p>​    ④ 用户账号信息加密处理</p>
<p>​    ⑤ 定时检测是否有攻击</p>
<h4 id="2-2-5-可测试性分析"><a href="#2-2-5-可测试性分析" class="headerlink" title="2-2-5 可测试性分析"></a>2-2-5 可测试性分析</h4><p>​    ① 将接口和实现分离开来，保证黑盒测试的效率而降低成本</p>
<p>​    ② 测试尽量提高白盒测试的覆盖率以保证测试的效用</p>
<h4 id="2-2-6-易用性分析"><a href="#2-2-6-易用性分析" class="headerlink" title="2-2-6 易用性分析"></a>2-2-6 易用性分析</h4><p>​    ① 用户最关心的易用性，界面设计是最重要的，一定要能够吸引用户</p>
<p>​    ② 导航的设计一定要让用户感到亲切而且简单易用</p>
<p>​    ③ 整体的设计需要去参考各种相关的页面，最后整合出一个受欢迎度高的页面设计</p>
<p>​    ④ 考虑大部分用户的思维习惯，根据思维习惯设计模块的使用</p>
<p>​    ⑤ 在颜色和整体布局上参考各大受欢迎的图书网站而自行设计</p>
<h2 id="3．架构设计"><a href="#3．架构设计" class="headerlink" title="3．架构设计"></a>3．架构设计</h2><h3 id="3-1-软件体系结构风格：基于规则的系统体系结构风格"><a href="#3-1-软件体系结构风格：基于规则的系统体系结构风格" class="headerlink" title="3-1 . 软件体系结构风格：基于规则的系统体系结构风格"></a>3-1 . 软件体系结构风格：基于规则的系统体系结构风格</h3><ul>
<li><p>原因：</p>
<ol>
<li><p>由于此类系统的可复用性很强，所以有很多已经比较成熟的基于规则体系结构风格的架构设计，不需要我们再去自己开发和设计，我们只要在他们的基础上按照用户的需求添加或删除相应的模块即可。</p>
</li>
<li><p>用户对系统的拓展性要求很高，基于规则系统的体系结构风格在拓展性实现得比较好。</p>
</li>
</ol>
</li>
</ul>
<h3 id="3-2-具体设计"><a href="#3-2-具体设计" class="headerlink" title="3-2 . 具体设计"></a>3-2 . 具体设计</h3><p><strong>基于规则的系统体系结构风格设计</strong></p>
<ul>
<li><p>IF 用户类别 = <em>超级管理员</em>  AND 操作 = <em>添加/删除/修改/查询管理员</em></p>
<p>THEN </p>
<p>​    允许添加并且每次只能添加/删除/修改/查询一个管理员</p>
<p>​    管理员的信息包括：</p>
<p>​    姓名，id，邮箱，手机号，性别，年龄，密码</p>
<p>​    查询的关键字是根据id查询的</p>
</li>
<li><p>IF 用户类别 = <em>超级管理员</em>  AND 操作 = <em>编辑公告栏</em></p>
<p>THEN </p>
<p>​    允许超级管理员进行编辑，输入编辑的信息点击确认即可</p>
</li>
<li><p>IF 用户类别 = <em>超级管理员</em>  AND 操作 = 设置赏罚标准</p>
<p>THEN </p>
<p>​    可以设置的赏罚标准有以下内容：</p>
<pre><code>1. 每个用户最大借阅数目
 2. 借阅的时间以及相应的租金
 3. 超过归还日期每天的罚金
 4. 超过归还日期多少天不归还会注销用户</code></pre></li>
<li><p>IF 用户类别 = <em>管理员</em>  AND 操作 = <em>添加/删除/修改/查询用户</em></p>
<p>THEN </p>
<p>​    允许添加并且每次只能添加/删除/修改/查询一个用户</p>
<p>​    用户的信息包括：</p>
<p>​    姓名，id，邮箱，手机号，性别，年龄，密码，余额以及借阅历史</p>
<p>​    查询的关键字是根据id查询的</p>
</li>
<li><p>IF 用户类别 = <em>管理员</em>  AND 操作 = <em>添加/删除/修改/查询书籍</em></p>
<p>THEN </p>
<p>​    允许添加并且每次只能添加/删除/修改/查询一个书籍</p>
<p>​    书籍信息包括：</p>
<p>​    书籍名称，ISBN，二维码，价格，租赁价格，位置，库存，封面，作者，出版社，入库日期</p>
<p>​    查询是根据ISBN或者书名查询的</p>
</li>
<li><p>IF 用户类别 = <em>管理员</em>  AND 操作 = <em>查询借阅信息</em></p>
<p>THEN </p>
<p>​    允许查询，并且返回结果</p>
<p>​    查询的依据是书籍或者用户或者管理员的id或者姓名</p>
</li>
<li><p>IF 用户类别 = <em>用户</em>  AND 操作 = <em>查询书籍</em></p>
<p>THEN </p>
<p>​    允许每次查询一个书籍</p>
<p>​    书籍信息包括：</p>
<p>​    书籍名称，ISBN，二维码，价格，租赁价格，位置，库存，封面，作者，出版社，入库日期</p>
<p>​    查询是根据ISBN或者书名查询的</p>
</li>
<li><p>IF 用户类别 = <em>用户</em>  AND 操作 = <em>借阅书籍</em></p>
<p>THEN </p>
<p>​    借阅的时间 = n，会显示对应的租金</p>
<p>​    是否达到最大借阅的书本个数，如果达到，不予办理</p>
</li>
<li><p>IF 用户类别 = <em>用户</em>  AND 操作 = <em>归还书籍</em></p>
<p>THEN </p>
<p>​    借阅的租金 = n，会显示对应的借阅时间</p>
<p>​    交付租金，显示未归还的书目</p>
</li>
</ul>
<h2 id="4．架构评估"><a href="#4．架构评估" class="headerlink" title="4．架构评估"></a>4．架构评估</h2><h3 id="4-1-确定评估方法"><a href="#4-1-确定评估方法" class="headerlink" title="4-1 . 确定评估方法"></a>4-1 . 确定评估方法</h3><ul>
<li>ATAM</li>
</ul>
<h3 id="4-2-设计效应树"><a href="#4-2-设计效应树" class="headerlink" title="4-2 . 设计效应树"></a>4-2 . 设计效应树</h3><p><img src="/111zx/111zx.github.io/2020/06/09/%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AF%BE%E7%A8%8B%E6%8A%A5%E5%91%8A/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200609115005854.png" alt="image-20200609115005854"></p>
<h3 id="4-3-分析效应树"><a href="#4-3-分析效应树" class="headerlink" title="4-3 . 分析效应树"></a>4-3 . 分析效应树</h3><ul>
<li><p>有风险决策分析</p>
<ul>
<li>高并发：如果开发人员对高并发的掌握程度不是很好的话，会出现大量的安全问题BUG，而且并发编程的安全问题很难解决，导致项目进度会严重被阻碍。</li>
<li>主动冗余：不排除备用服务器也挂掉的情况</li>
</ul>
</li>
<li><p>无风险决策分析</p>
<ul>
<li>高效率算法：只要算法够高效，系统的性能就会越好</li>
<li>日志：日志会提供操作记录，在失误删除某些数据时只能靠日志来恢复，十分重要。</li>
</ul>
</li>
<li><p>敏感点分析</p>
<ul>
<li>数据加密：如果需要考虑到安全的情况下，数据必须加密传输。<ul>
<li>在登陆账号的时候，密码必须是需要加密传输的，如果不加密，被别人截获，用户的信息将会暴露，出现严重安全问题</li>
<li>在用户编辑个人信息内容传到远端数据库时，也是需要加密传输的，否则也会暴露个人信息，造成信息泄露。</li>
</ul>
</li>
</ul>
</li>
<li><p>权衡点分析</p>
<ul>
<li>低耦合：所有的代码都要建设在低耦合高内聚的前提上。<ul>
<li>低耦合高内聚可以提高代码的可读性，在修改模块的时候也容易修改。</li>
<li>并且在系统出现了BUG时，如果是高耦合的代码，debug的过程是十分痛苦的，可以大幅度减少debug时间。</li>
<li>在某种程度上，高内聚低耦合的代码可以一定程度提高代码的运行效率。</li>
</ul>
</li>
<li>高并发：如果可以高并发对系统十分重要。<ul>
<li>高并发会提高到系统性能</li>
<li>同时，高并发会带来很大的安全问题，解决起来十分困难。</li>
</ul>
</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/111zx/111zx.github.io/2020/06/09/%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AF%BE%E7%A8%8B%E6%8A%A5%E5%91%8A/" data-id="ckbbzdvtq000mt8ub1jt416c2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-枚举类和注解" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/06/01/%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%92%8C%E6%B3%A8%E8%A7%A3/" class="article-date">
  <time datetime="2020-06-01T01:41:28.383Z" itemprop="datePublished">2020-06-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/06/01/%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%92%8C%E6%B3%A8%E8%A7%A3/">枚举类和注解</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="枚举类"><a href="#枚举类" class="headerlink" title="枚举类"></a>枚举类</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ul>
<li><p>在5.0新增的，注解也是在5.0新增的。</p>
</li>
<li><p>类的对象只有<strong>有限个</strong>，<strong>确定的</strong>。</p>
</li>
<li><p>当需要定义一组常量时，强烈建议使用枚举类</p>
</li>
</ul>
<h2 id="定义枚举类"><a href="#定义枚举类" class="headerlink" title="定义枚举类"></a>定义枚举类</h2><h3 id="自定义枚举类"><a href="#自定义枚举类" class="headerlink" title="自定义枚举类"></a>自定义枚举类</h3><ul>
<li>jdk5.0之前</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">枚举类的属性需要用private final修饰</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Season</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String seasonName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String seasonDesc;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Season</span><span class="params">(String seasonName , String seasonDesc)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.seasonName = seasonName;</span><br><span class="line">        <span class="keyword">this</span>.seasonDesc = seasonDesc;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season SPRING = <span class="keyword">new</span> Season(<span class="string">"春天"</span>, <span class="string">"春暖花开"</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season SUMMER = <span class="keyword">new</span> Season(<span class="string">"夏天"</span>, <span class="string">"春暖花开"</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season AUTUM = <span class="keyword">new</span> Season(<span class="string">"秋天"</span>, <span class="string">"春暖花开"</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season WINTER = <span class="keyword">new</span> Season(<span class="string">"冬天"</span>, <span class="string">"春暖花开"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取枚举类对象的属性</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSeasonName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> seasonName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSeasonDesc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> seasonDesc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//toString</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Season&#123;"</span> +</span><br><span class="line">                <span class="string">"seasonName='"</span> + seasonName + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", seasonDesc='"</span> + seasonDesc + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="enum关键字定义枚举类"><a href="#enum关键字定义枚举类" class="headerlink" title="enum关键字定义枚举类"></a>enum关键字定义枚举类</h3><ul>
<li>jdk5.0之后</li>
<li>默认集成java.lang.Enum</li>
<li>toString方法被重写过，不需要重写。默认打印当前对象key。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> Season1 &#123;</span><br><span class="line">    <span class="comment">//提供当前枚举类的对象，多个对象之间用逗号隔开，末尾对象分号结束</span></span><br><span class="line">    SPRING (<span class="string">"春天"</span>, <span class="string">"春暖花开"</span>),</span><br><span class="line">    SUMMER(<span class="string">"夏天"</span>, <span class="string">"春暖花开"</span>),</span><br><span class="line">    AUTUMN(<span class="string">"秋天"</span>, <span class="string">"春暖花开"</span>),</span><br><span class="line">    WINTER(<span class="string">"冬天"</span>, <span class="string">"春暖花开"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String seasonName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String seasonDesc;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Season1</span><span class="params">(String seasonName , String seasonDesc)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.seasonName = seasonName;</span><br><span class="line">        <span class="keyword">this</span>.seasonDesc = seasonDesc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取枚举类对象的属性</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSeasonName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> seasonName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSeasonDesc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> seasonDesc;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    @Override</span></span><br><span class="line"><span class="comment">//    public String toString() &#123;</span></span><br><span class="line"><span class="comment">//        return "Season&#123;" +</span></span><br><span class="line"><span class="comment">//                "seasonName='" + seasonName + '\'' +</span></span><br><span class="line"><span class="comment">//                ", seasonDesc='" + seasonDesc + '\'' +</span></span><br><span class="line"><span class="comment">//                '&#125;';</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h3><h4 id="values"><a href="#values" class="headerlink" title="values()"></a>values()</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">数组中存放的是定义的常量</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">Season1[] values = Season1.values;</span><br></pre></td></tr></table></figure>

<h4 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString()"></a>toString()</h4><ul>
<li>默认输出定义的枚举类的内容</li>
</ul>
<h4 id="valueOf-NaN"><a href="#valueOf-NaN" class="headerlink" title="valueOf()"></a>valueOf()</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">根据括号的内容，返回对象名是WINTER的对象</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">Season1 winter = Season1.valueOf(<span class="string">"WINTER"</span>);</span><br></pre></td></tr></table></figure>

<h3 id="使用enum关键字定义的枚举类实现接口"><a href="#使用enum关键字定义的枚举类实现接口" class="headerlink" title="使用enum关键字定义的枚举类实现接口"></a>使用enum关键字定义的枚举类实现接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> Season1 &#123;</span><br><span class="line">    <span class="comment">//提供当前枚举类的对象，多个对象之间用逗号隔开，末尾对象分号结束</span></span><br><span class="line">    SPRING (<span class="string">"春天"</span>, <span class="string">"春暖花开"</span>)&#123;</span><br><span class="line">    	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">            sout(<span class="string">"Spring"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    SUMMER(<span class="string">"夏天"</span>, <span class="string">"春暖花开"</span>)</span><br><span class="line">        &#123;</span><br><span class="line">    	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">            sout(<span class="string">"Summer"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    AUTUMN(<span class="string">"秋天"</span>, <span class="string">"春暖花开"</span>)</span><br><span class="line">        &#123;</span><br><span class="line">    	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">            sout(<span class="string">"Autumn"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    WINTER(<span class="string">"冬天"</span>, <span class="string">"春暖花开"</span>)</span><br><span class="line">        &#123;</span><br><span class="line">    	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">            sout(<span class="string">"WINTER"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> String seasonName;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> String seasonDesc;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">Season1</span><span class="params">(String seasonName , String seasonDesc)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.seasonName = seasonName;</span><br><span class="line">    <span class="keyword">this</span>.seasonDesc = seasonDesc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取枚举类对象的属性</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getSeasonName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> seasonName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getSeasonDesc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> seasonDesc;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//    @Override</span></span><br><span class="line"><span class="comment">//    public String toString() &#123;</span></span><br><span class="line"><span class="comment">//        return "Season&#123;" +</span></span><br><span class="line"><span class="comment">//                "seasonName='" + seasonName + '\'' +</span></span><br><span class="line"><span class="comment">//                ", seasonDesc='" + seasonDesc + '\'' +</span></span><br><span class="line"><span class="comment">//                '&#125;';</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">a</span><br></pre></td></tr></table></figure>

<h1 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h1><h2 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h2><ul>
<li>jdk5.0中Java增加了对元数据的支持，也就是注解</li>
<li>框架 = 注解 + 反射+ 设计模式</li>
<li>注解其实就是代码里的特殊标记，这些标记可以在编译，类加载，运行时被读取，并执行相应的处理</li>
<li>JavaEE中有重要的作用</li>
</ul>
<h2 id="常见的注解示例"><a href="#常见的注解示例" class="headerlink" title="常见的注解示例"></a>常见的注解示例</h2><ul>
<li>生成文档相关的注解</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">@author 当前模块作者</span></span><br><span class="line"><span class="comment">@version 当前模块版本</span></span><br><span class="line"><span class="comment">@see 相关主题</span></span><br><span class="line"><span class="comment">@since 从哪个版本开始</span></span><br><span class="line"><span class="comment">@param 参数</span></span><br><span class="line"><span class="comment">@return 返回值</span></span><br><span class="line"><span class="comment">@exception 异常</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<ul>
<li>在编译时进行格式检查</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">@Override 限定重写父类方法，该注解只能用于方法</span></span><br><span class="line"><span class="comment">@Deprecated 用于表示所修饰的元素（类，方法）已经过时。通常是因为所修饰的结构存在危险或又更好的选择。</span></span><br><span class="line"><span class="comment">@SuppressWarnings 抑制编译器警告</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<ul>
<li>跟踪代码依赖性，实现代替配置文件功能</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Servlet3.0提供了注解，使得不再需要在web.xml文件中进行Servelt部署</span></span><br><span class="line"><span class="meta">@WebServelt</span>(<span class="string">"/login"</span>)</span><br><span class="line"><span class="comment">//上面一行可以代替下面一个配置文件</span></span><br><span class="line">&lt;servelt&gt;</span><br><span class="line">    ...</span><br><span class="line">&lt;/servelt&gt;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<ul>
<li>Spring框架之中的事务管理</li>
</ul>
<h2 id="JDK中基本的三个注解"><a href="#JDK中基本的三个注解" class="headerlink" title="JDK中基本的三个注解"></a>JDK中基本的三个注解</h2><ul>
<li><p><strong>三个都是在编译期作用的</strong></p>
</li>
<li><p>@Override <strong>帮助校验是否重写</strong></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @Override 在编译的时候就开始校验是否重写的父类或者接口的方法</span></span><br></pre></td></tr></table></figure>

<ul>
<li>@Deprecated 可修饰类，方法等</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//提示过时的方法，虽然过时，但是可以用</span></span><br></pre></td></tr></table></figure>

<ul>
<li>@SuppressWarnings</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//抑制编译器警告，将警告以另一种方式表现出来</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@SuppressWarnings</span>(<span class="string">"unused"</span>)<span class="comment">//提示num没有使用</span></span><br><span class="line"><span class="keyword">int</span> num = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SuppressWarnings</span>(&#123;<span class="string">"unused"</span>，<span class="string">"rawtypes"</span>&#125;)<span class="comment">//提示num没有使用,且没有泛型</span></span><br><span class="line">ArrayList list = <span class="keyword">new</span> ArrayList();</span><br></pre></td></tr></table></figure>

<h2 id="如何自定义注解"><a href="#如何自定义注解" class="headerlink" title="如何自定义注解"></a>如何自定义注解</h2><ul>
<li>使用情况比较少</li>
<li>通常会指明两个元注解：target，retention</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注解声明方式如下</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyAnnotation&#123;</span><br><span class="line">    String value <span class="keyword">default</span> <span class="string">"hello"</span>;<span class="comment">//默认值是hello</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//使用的时候，如果有成员，需要给成员赋值，有默认值的情况下不需要。</span></span><br><span class="line"><span class="meta">@MyAnnotation</span>(value = <span class="string">"hello"</span>)</span><br><span class="line">Person&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="元注解"><a href="#元注解" class="headerlink" title="元注解"></a>元注解</h2><ul>
<li>用来修饰其他注解的注解</li>
<li>元数据：对现有数据的修饰</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//String 和 str 是元数据，对字符串常量进行修饰</span></span><br><span class="line">String str = <span class="string">"hello"</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>一共四个元注解<ul>
<li>Retention</li>
<li>Target</li>
</ul>
</li>
</ul>
<h4 id="Retention"><a href="#Retention" class="headerlink" title="Retention"></a>Retention</h4><ul>
<li>指明所修饰的注解的生命周期，包含一个RetentionPolicy类型的成员变量，使用Rentention时必须为该value成员指定变量值<ul>
<li>RetentionPolicy.SOURCE:在源文件中有效，编译器直接丢弃这种策略的注释</li>
<li>RetentionPolicy.CLASS：在class中有效，当java程序运行时，JVM不会保留（默认行为）</li>
<li>RetentionPolicy.RUNTIME：运行时有效，会保留注释（只有RUNTIME才能通过反射获取）</li>
</ul>
</li>
</ul>
<h4 id="Target"><a href="#Target" class="headerlink" title="Target"></a>Target</h4><ul>
<li>用于修饰注解的定义，用于指定被修饰的注解能用于修饰哪些程序元素。</li>
<li>里面定义了一个数组，里面的类型定义了一个枚举类ElemenType<ul>
<li>TYPE:类</li>
<li>FIELD：作用域</li>
<li>METHOD：方法</li>
<li>CONSTRUCTOR：构造器</li>
<li>LOCAL_VARIABLE：</li>
<li>PARAMETER：参数</li>
</ul>
</li>
</ul>
<h4 id="Documented"><a href="#Documented" class="headerlink" title="Documented"></a>Documented</h4><ul>
<li>用于指定被该元注解修饰的注解类将被javadoc工具提取成文档。默认情况下，javadoc是不包括注解的。</li>
<li>定义Documented注解必须设置Retention值为Runtime</li>
</ul>
<h4 id="Inherited"><a href="#Inherited" class="headerlink" title="Inherited"></a>Inherited</h4><ul>
<li>被它修饰的注解将具有继承性。如果<strong>某个类</strong>使用了被Inherited修饰的注解，则<strong>其子类</strong>将自动具有该注解（是类继承，而不是注解继承）</li>
</ul>
<h2 id="可重复注解"><a href="#可重复注解" class="headerlink" title="可重复注解"></a>可重复注解</h2><ul>
<li><p>jdk8中引入</p>
</li>
<li><p>jdk8之前的重复注解：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在定义注解时成员声明为数组</span></span><br><span class="line"><span class="meta">@MyAnnotations</span>(&#123;<span class="meta">@MyAnnotations</span>(value = <span class="string">"hi"</span>),<span class="meta">@MyAnnotations</span>(value = <span class="string">"hello"</span>)&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>jdk8之后，可以在声明注解时加上注解@Repeatable(MyAnnotations.class)</p>
<ul>
<li>MyAnnotations.class 是jdk8之前的实现方式</li>
<li>MyAnnotations和MyAnnotation的<strong>元注解必须都一样</strong></li>
</ul>
</li>
</ul>
<h2 id="类型注解"><a href="#类型注解" class="headerlink" title="类型注解"></a>类型注解</h2><ul>
<li>jdk1.8之后，关于元注解@Target的参数类型ElementType枚举值多了两个：TYPE_PARAMENTER,TYPE_USE</li>
<li>在java8之前，注解只能在什么的地方所使用，java8开始，注解可以应用在任何地方<ul>
<li>ElementType.TYPE_PARAMENTER 表示该注解能写在类型变量的声明语句中</li>
<li>ElementType.TYPE_USE表示该注解能写在使用类型的任何语句中</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generic</span>&lt;@<span class="title">MyAnnotation</span> <span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> throw @MyAnnotation RuntimeException</span>&#123;</span><br><span class="line">        ArrayList&lt;<span class="meta">@MyAnnotation</span> String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> num = (<span class="meta">@MyAnnotation</span> <span class="keyword">int</span>) <span class="number">10L</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/111zx/111zx.github.io/2020/06/01/%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%92%8C%E6%B3%A8%E8%A7%A3/" data-id="ckbbzdvsu000et8ub43fg3mmq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-常用类" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/26/%E5%B8%B8%E7%94%A8%E7%B1%BB/" class="article-date">
  <time datetime="2020-05-26T10:36:45.000Z" itemprop="datePublished">2020-05-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/26/%E5%B8%B8%E7%94%A8%E7%B1%BB/">常用类</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="第一章-String"><a href="#第一章-String" class="headerlink" title="第一章 String"></a>第一章 String</h1><h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><h3 id="1-不可变性"><a href="#1-不可变性" class="headerlink" title="1. 不可变性"></a>1. 不可变性</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//保存在常量池中，常量池不会有两个一样的字面量</span></span><br><span class="line">String s1 = <span class="string">"abc"</span>;</span><br><span class="line">String s2 = <span class="string">"abc"</span>;</span><br><span class="line"></span><br><span class="line">sout(s1 == s2)</span><br></pre></td></tr></table></figure>

<ul>
<li>通过字面量初始化不同于new方式，保存在常量池中</li>
<li>不可变性<ul>
<li>字符串通过字面量赋值时，需要改变字面量的值，不能用原有的内存，需要新开辟一块内存区域。（包括拼接字符串）</li>
<li>str.replace(‘a’,’m’);也需要开辟内存区域</li>
</ul>
</li>
</ul>
<h3 id="2-特点"><a href="#2-特点" class="headerlink" title="2. 特点"></a>2. 特点</h3><ul>
<li>声明为final类型的，不可继承</li>
<li>String实现了Serializable接口，表示字符串是支持序列化的</li>
<li>实现了Comparable接口，表示String可以比较大小</li>
<li>String内部定义了final char[] value 用于储存字符串数据</li>
<li>String：代表不可变的字符序列</li>
</ul>
<h3 id="String常用方法"><a href="#String常用方法" class="headerlink" title="String常用方法"></a>String常用方法</h3><h4 id="int-length"><a href="#int-length" class="headerlink" title="int length()"></a>int length()</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str.length</span><br></pre></td></tr></table></figure>

<h4 id="char-charAt-int-index"><a href="#char-charAt-int-index" class="headerlink" title="char charAt(int index)"></a>char charAt(int index)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str.charAt(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<h4 id="boolean-isEmpty"><a href="#boolean-isEmpty" class="headerlink" title="boolean isEmpty()"></a>boolean isEmpty()</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//判断是否为空串，return str.length == 0</span></span><br></pre></td></tr></table></figure>

<h4 id="String-tolowerCase-str"><a href="#String-tolowerCase-str" class="headerlink" title="String tolowerCase(str)"></a>String tolowerCase(str)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String str2 = str.tolowerCase();<span class="comment">//改为小写</span></span><br></pre></td></tr></table></figure>

<h4 id="String-toUpperCase-str"><a href="#String-toUpperCase-str" class="headerlink" title="String toUpperCase(str)"></a>String toUpperCase(str)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String str2 = str.toupperCase();<span class="comment">//改为小写</span></span><br></pre></td></tr></table></figure>

<h4 id="String-trim"><a href="#String-trim" class="headerlink" title="String trim()"></a>String trim()</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str.trim();<span class="comment">//去首尾空格，中间的空格不做处理</span></span><br></pre></td></tr></table></figure>

<h4 id="boolean-equalsIgnoreCase-String-str2"><a href="#boolean-equalsIgnoreCase-String-str2" class="headerlink" title="boolean equalsIgnoreCase(String str2)"></a>boolean equalsIgnoreCase(String str2)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//去除大小写比较内容</span></span><br></pre></td></tr></table></figure>

<h4 id="String-concat-String-str2"><a href="#String-concat-String-str2" class="headerlink" title="String concat(String str2)"></a>String concat(String str2)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将str2添加到str的结尾</span></span><br></pre></td></tr></table></figure>

<h4 id="int-compareTo-String-str2"><a href="#int-compareTo-String-str2" class="headerlink" title="int compareTo(String str2)"></a>int compareTo(String str2)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//比较字符串大小，涉及到字符串排序，ASCCI码，一个一个字符比较，不等的话前一个减后一个，只要有一个不一样就停止</span></span><br></pre></td></tr></table></figure>

<h4 id="String-substring-begindex，overindex"><a href="#String-substring-begindex，overindex" class="headerlink" title="String substring(begindex，overindex)"></a>String substring(begindex，overindex)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str.substring(<span class="number">2</span>,<span class="number">5</span>)<span class="comment">//下标是2 3 4，不包含5</span></span><br></pre></td></tr></table></figure>

<h4 id="boolean-endsWith-String-str1"><a href="#boolean-endsWith-String-str1" class="headerlink" title="boolean endsWith(String str1)"></a>boolean endsWith(String str1)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//是否以指定字符串str1结尾</span></span><br></pre></td></tr></table></figure>

<h4 id="boolean-startsWith-String-str1"><a href="#boolean-startsWith-String-str1" class="headerlink" title="boolean startsWith(String str1)"></a>boolean startsWith(String str1)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//是否以指定字符串str1开始</span></span><br></pre></td></tr></table></figure>

<h4 id="boolean-endsWith-String-str1，int-toffset"><a href="#boolean-endsWith-String-str1，int-toffset" class="headerlink" title="boolean endsWith(String str1，int toffset)"></a>boolean endsWith(String str1，int toffset)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//是否从下标toffset开始以指定字符串str1开始</span></span><br></pre></td></tr></table></figure>

<h4 id="boolean-contains-String-str1"><a href="#boolean-contains-String-str1" class="headerlink" title="boolean contains(String str1)"></a>boolean contains(String str1)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//判断字符串中是否包含str2</span></span><br></pre></td></tr></table></figure>

<h4 id="int-indexOf-String-str1"><a href="#int-indexOf-String-str1" class="headerlink" title="int indexOf(String str1)"></a>int indexOf(String str1)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//从0开始找str1首次开始的下标位置</span></span><br><span class="line"><span class="comment">//没有返回-1</span></span><br></pre></td></tr></table></figure>

<h4 id="int-indexOf-String-str1，int-fromindex"><a href="#int-indexOf-String-str1，int-fromindex" class="headerlink" title="int indexOf(String str1，int fromindex)"></a>int indexOf(String str1，int fromindex)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//从fromindex开始找str1首次开始的下标位置</span></span><br></pre></td></tr></table></figure>

<h4 id="int-lastIndexOf-String-str1"><a href="#int-lastIndexOf-String-str1" class="headerlink" title="int lastIndexOf(String str1)"></a>int lastIndexOf(String str1)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//从后往前找str1首次开始的下标位置</span></span><br></pre></td></tr></table></figure>

<h4 id="String-replace-char-oldChar，char-newChar"><a href="#String-replace-char-oldChar，char-newChar" class="headerlink" title="String replace(char oldChar，char newChar)"></a>String replace(char oldChar，char newChar)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//指定的newChar换掉oldChar</span></span><br></pre></td></tr></table></figure>

<h4 id="String-replace-String-oldstr，String-newstr"><a href="#String-replace-String-oldstr，String-newstr" class="headerlink" title="String replace(String oldstr，String newstr)"></a>String replace(String oldstr，String newstr)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//指定的newstr换掉oldstr</span></span><br></pre></td></tr></table></figure>

<h4 id="String-replaceAll-String-regex，String-str2"><a href="#String-replaceAll-String-regex，String-str2" class="headerlink" title="String replaceAll(String regex，String str2)"></a>String replaceAll(String regex，String str2)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//替换所有</span></span><br><span class="line">String str = <span class="string">"122hello545world548java5mysql45"</span>;</span><br><span class="line">String string = str.replaceAll(<span class="string">"\\d+"</span>,<span class="string">","</span>).replace(<span class="string">"^,|,$"</span>,<span class="string">""</span>);</span><br><span class="line"><span class="comment">//第一个：数字改变成"，"</span></span><br><span class="line"><span class="comment">//第二个：以逗号开头或者结尾的变成""</span></span><br></pre></td></tr></table></figure>

<h4 id="String-replaceFirst-String-regex，String-str2"><a href="#String-replaceFirst-String-regex，String-str2" class="headerlink" title="String replaceFirst(String regex，String str2)"></a>String replaceFirst(String regex，String str2)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//替换第一个</span></span><br><span class="line">String str = <span class="string">"122hello545world548java5mysql45"</span>;</span><br><span class="line">String string = str.replaceAll(<span class="string">"\\d+"</span>,<span class="string">","</span>).replace(<span class="string">"^,|,$"</span>,<span class="string">""</span>);</span><br><span class="line"><span class="comment">//第一个：数字改变成"，"</span></span><br><span class="line"><span class="comment">//第二个：以逗号开头或者结尾的变成""</span></span><br></pre></td></tr></table></figure>

<h4 id="boolean-matches-String-regex"><a href="#boolean-matches-String-regex" class="headerlink" title="boolean matches(String regex)"></a>boolean matches(String regex)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//匹配</span></span><br><span class="line">str.maches(<span class="string">"\\d+"</span>)<span class="comment">//是否是数字</span></span><br></pre></td></tr></table></figure>

<h4 id="String-spilt-String-regex"><a href="#String-spilt-String-regex" class="headerlink" title="String[] spilt(String regex)"></a>String[] spilt(String regex)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//切片</span></span><br><span class="line">String str = <span class="string">"|asdsad|assda|sadds"</span>;</span><br><span class="line">String[] str2 = str.spilt(<span class="string">"\\|"</span>);<span class="comment">//以|分割的字符串提取出来</span></span><br></pre></td></tr></table></figure>

<h4 id="String-spilt-String-regex，int-limit"><a href="#String-spilt-String-regex，int-limit" class="headerlink" title="String[] spilt(String regex，int limit)"></a>String[] spilt(String regex，int limit)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//切片,最多不超过limit个，如果超过，则剩下的全部放在最后一个元素中</span></span><br><span class="line">String str = <span class="string">"|asdsad|assda|sadds"</span>;</span><br><span class="line">String[] str2 = str.spilt(<span class="string">"\\|"</span>，<span class="number">2</span>);<span class="comment">//以|分割的字符串提取出来，超过两个的全部放到最后一个中</span></span><br></pre></td></tr></table></figure>

<h3 id="String和其他数据类型的转换"><a href="#String和其他数据类型的转换" class="headerlink" title="String和其他数据类型的转换"></a>String和其他数据类型的转换</h3><ul>
<li>int<ul>
<li>Integer.parseInt(str)</li>
<li>String.valueOf(num)</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//错误写法：int num = int(str);只有子父类之间才可以进行强转</span></span><br><span class="line"><span class="keyword">int</span> num = Integer.parseInt(str);</span><br><span class="line">String str = String.valueOf(num);</span><br></pre></td></tr></table></figure>

<h3 id="String实例化方法"><a href="#String实例化方法" class="headerlink" title="String实例化方法"></a>String实例化方法</h3><ul>
<li>字面量<ul>
<li>直接在常量池里面生成</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stirng str = <span class="string">"abc"</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>调用构造器<ul>
<li>在对空间中开辟空间后对应的地址值</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="keyword">new</span> String();</span><br></pre></td></tr></table></figure>

<ul>
<li>调用构造器</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="keyword">new</span> String(String str1);</span><br></pre></td></tr></table></figure>

<ul>
<li>调用构造器</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="keyword">new</span> String(<span class="keyword">char</span>[] a);</span><br></pre></td></tr></table></figure>

<ul>
<li>调用构造器</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="keyword">new</span> String(<span class="keyword">char</span>[] a,<span class="keyword">int</span> startindex,<span class="keyword">int</span> endindex);</span><br></pre></td></tr></table></figure>

<h4 id="字面量和构造器实例化的内存区别"><a href="#字面量和构造器实例化的内存区别" class="headerlink" title="字面量和构造器实例化的内存区别"></a>字面量和构造器实例化的内存区别</h4><p><img src="/111zx/111zx.github.io/2020/05/26/%E5%B8%B8%E7%94%A8%E7%B1%BB/C:%5CUsers%5C14914%5CDesktop%5C%E5%9B%BE%E7%89%87%E4%B8%AD%E8%BD%AC%E7%AB%99%5Cjava%E5%9F%BA%E7%A1%80%5CString%E5%AE%9E%E4%BE%8B%E5%8C%96.png" alt></p>
<ul>
<li>String str = new String(“asd”);实例化了几个对象<ul>
<li>两个。一个堆中是new的对象，另一个是常量池中的char[] value数组。</li>
</ul>
</li>
</ul>
<h3 id="String拼接操作"><a href="#String拼接操作" class="headerlink" title="String拼接操作"></a>String拼接操作</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">String s1 = <span class="string">"a"</span>;</span><br><span class="line">String s2 = <span class="string">"b"</span>;</span><br><span class="line"><span class="keyword">final</span> String s8 = <span class="string">"b"</span></span><br><span class="line">String s3 = <span class="string">"ab"</span>;</span><br><span class="line">String s4 = <span class="string">"a"</span>+<span class="string">"b"</span>;</span><br><span class="line">String s5 = s1 + <span class="string">"b"</span>;</span><br><span class="line">String s6 = s1 + s2;</span><br><span class="line">String s7 = (s1 + s2).intern();</span><br><span class="line">String s9 = a + s8;</span><br><span class="line"><span class="comment">//s9 == s3,原因：都是常量</span></span><br><span class="line"><span class="comment">//s7是字面量，intern()返回值得到的是常量池中的字面量</span></span><br><span class="line"><span class="comment">//除了s3 == s4 其他都是错的,都是字面量的连接</span></span><br><span class="line"><span class="comment">//只要有变量名参与，此时都不是在常量池，而是在堆空间中new一个String对象</span></span><br></pre></td></tr></table></figure>

<h4 id="值传递和String不变性"><a href="#值传递和String不变性" class="headerlink" title="值传递和String不变性"></a>值传递和String不变性</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringTest</span></span>&#123;</span><br><span class="line">    String str = <span class="keyword">new</span> String(<span class="string">"good"</span>);</span><br><span class="line">    <span class="keyword">char</span>[] ch = &#123;<span class="string">'t'</span>,<span class="string">'e'</span>,<span class="string">'s'</span>,<span class="string">'t'</span>&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">change</span><span class="params">(String str,<span class="keyword">char</span> ch[])</span></span>&#123;<span class="comment">//传的都是地址</span></span><br><span class="line">        str = <span class="string">"test ok"</span>;<span class="comment">//不可变性</span></span><br><span class="line">        ch[<span class="number">0</span>] = <span class="string">'b'</span>;<span class="comment">//可变</span></span><br><span class="line">    &#125;</span><br><span class="line">    psvm&#123;</span><br><span class="line">        StringTest ex = <span class="keyword">new</span> StringTest();</span><br><span class="line">        ex.change(ex.str,ex.ch);</span><br><span class="line">        sout(ex.str);</span><br><span class="line">        sout(ex.ch);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="涉及字符串的JVM内存解析"><a href="#涉及字符串的JVM内存解析" class="headerlink" title="涉及字符串的JVM内存解析"></a>涉及字符串的JVM内存解析</h3><ul>
<li>jdk6的时候字符串常量池在方法区，方法区的具体实现是永久代</li>
<li>jdk7的时候字符串常量池在堆空间，方法区的具体实现是永久代</li>
<li>jdk8的时候字符串常量池在方法区，方法区的具体实现是元空间</li>
</ul>
<h3 id="String和char-之间的转换"><a href="#String和char-之间的转换" class="headerlink" title="String和char[] 之间的转换"></a>String和char[] 之间的转换</h3><ul>
<li>String =&gt; char[]</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>[] ch = str.toCharArray();</span><br></pre></td></tr></table></figure>

<ul>
<li>char[] =&gt; String</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="keyword">new</span> String(ch);</span><br></pre></td></tr></table></figure>

<h3 id="String和byte-之间的转换"><a href="#String和byte-之间的转换" class="headerlink" title="String和byte[]之间的转换"></a>String和byte[]之间的转换</h3><ul>
<li>String =&gt; byte[] 编码</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">byte</span>[] bytes1 = str.getBytes();<span class="comment">//使用默认的字符集，进行转换</span></span><br><span class="line"><span class="keyword">byte</span>[] bytes2 = str.getBytes(<span class="string">"gbk"</span>);<span class="comment">//使用gbk的字符集，进行转换</span></span><br></pre></td></tr></table></figure>

<ul>
<li>byte[] =&gt; String 解码</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="keyword">new</span> String(bytes1);<span class="comment">//使用默认的字符集，进行转换，成功</span></span><br><span class="line">String str = <span class="keyword">new</span> String(bytes2);<span class="comment">//会出现乱码，编码用GBK，解码用的是UTF-8</span></span><br><span class="line">String str = <span class="keyword">new</span> String(bytes2，<span class="string">"gbk"</span>);<span class="comment">//解码成功</span></span><br></pre></td></tr></table></figure>

<h3 id="String相关面试题"><a href="#String相关面试题" class="headerlink" title="String相关面试题"></a>String相关面试题</h3><ul>
<li>最大相同字串</li>
<li>自然顺序排序</li>
<li>实现trim</li>
<li>反转字符串</li>
<li>一个字符串在另外一个字符串中出现的次数</li>
</ul>
<h2 id="StringBuffer，StringBuilder"><a href="#StringBuffer，StringBuilder" class="headerlink" title="StringBuffer，StringBuilder"></a>StringBuffer，StringBuilder</h2><h2 id="和String区别"><a href="#和String区别" class="headerlink" title="和String区别"></a>和String区别</h2><ul>
<li><p>String：不可变字符序列，是final char[] value实现</p>
</li>
<li><p>StringBuffer：线程安全的，效率偏低，可变的字符序列，继承父类<strong>AbstractStringBuilder</strong>，也是char[] value实现</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">strb.setCharAt(index,ch);<span class="comment">//改变指定字符</span></span><br><span class="line">StringBuffer str1 = <span class="keyword">new</span> StringBuilder();<span class="comment">// char[] value = new char[16];</span></span><br><span class="line">String str = <span class="keyword">new</span> String();<span class="comment">//char[] value = new char[0];</span></span><br><span class="line">StringBuffer str1 = <span class="keyword">new</span> StringBuilder(<span class="string">"abc"</span>);<span class="comment">// char[] value = new char["abc".length+16];</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>一开始初始化并不是指初始指定长度数组，一般会比这个长度大，所以可以扩展，<strong>可变</strong></p>
</li>
<li><p>扩容：2倍+2</p>
</li>
<li><p>建议使用带参数的构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">str.append(str2);</span><br><span class="line">ensureCapacityInternal(count+length);<span class="comment">//确定加上count后长度是否够</span></span><br><span class="line"><span class="comment">//如果不够</span></span><br><span class="line">value = Arrays.copyOf(value,newCapacity(minimumCapacity));</span><br><span class="line"><span class="comment">//newCapacity(minimumCapacity)</span></span><br><span class="line">newCapacity = (value.length &lt;&lt; <span class="number">1</span>) + <span class="number">2</span>;<span class="comment">//二倍+2</span></span><br><span class="line"><span class="comment">//扩容还后不够，直接赋值传进来的长度</span></span><br><span class="line">newCapacity = minimumCapacity;</span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ul>
<ul>
<li>StringBuilder：线程不安全，效率高，可变的字符序列，继承父类<strong>AbstractStringBuilder</strong>，是char[] value实现</li>
</ul>
<h4 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h4><h5 id="StringBuffer-append"><a href="#StringBuffer-append" class="headerlink" title="StringBuffer append()"></a>StringBuffer append()</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">strb.append(<span class="number">1</span>);</span><br><span class="line">strb.append(<span class="string">'1'</span>);</span><br><span class="line">strb.append(<span class="string">"1"</span>);</span><br></pre></td></tr></table></figure>

<h5 id="StringBuffer-delete-int-start-int-end"><a href="#StringBuffer-delete-int-start-int-end" class="headerlink" title="StringBuffer delete(int start,int end)"></a>StringBuffer delete(int start,int end)</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strb.delete(<span class="number">2</span>,<span class="number">4</span>);<span class="comment">//删除2，3下标</span></span><br></pre></td></tr></table></figure>

<h5 id="StringBuffer-replace-int-offset-String-str"><a href="#StringBuffer-replace-int-offset-String-str" class="headerlink" title="StringBuffer replace(int offset,String str)"></a>StringBuffer replace(int offset,String str)</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strb.insert(<span class="number">2</span>,<span class="string">"hello"</span>);<span class="comment">//2下标换成"hello"，其他后移</span></span><br></pre></td></tr></table></figure>

<h5 id="StringBuffer-reverse"><a href="#StringBuffer-reverse" class="headerlink" title="StringBuffer reverse()"></a>StringBuffer reverse()</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//逆转当前序列</span></span><br><span class="line">StringBuffer strb1 = strb.reverse();</span><br></pre></td></tr></table></figure>

<h5 id="int-indexOf-String-str"><a href="#int-indexOf-String-str" class="headerlink" title="int indexOf(String str)"></a>int indexOf(String str)</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//首次出现的位置</span></span><br></pre></td></tr></table></figure>

<h5 id="String-substring-int-start-int-end"><a href="#String-substring-int-start-int-end" class="headerlink" title="String substring(int start,int end)"></a>String substring(int start,int end)</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回一个字符串</span></span><br></pre></td></tr></table></figure>

<h5 id="char-charAt-int-index-1"><a href="#char-charAt-int-index-1" class="headerlink" title="char charAt(int index)"></a>char charAt(int index)</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回对应下标元素</span></span><br></pre></td></tr></table></figure>

<h5 id="void-setCharAt-int-index-char-ch"><a href="#void-setCharAt-int-index-char-ch" class="headerlink" title="void setCharAt(int index,char ch)"></a>void setCharAt(int index,char ch)</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//修改对应下标元素为ch</span></span><br></pre></td></tr></table></figure>

<h4 id="效率对比"><a href="#效率对比" class="headerlink" title="效率对比"></a>效率对比</h4><ul>
<li>String效率最低 1026</li>
<li>StringBuffer最快 7</li>
<li>StringBuilder中庸 4</li>
</ul>
<h1 id="时间的API"><a href="#时间的API" class="headerlink" title="时间的API"></a>时间的API</h1><h2 id="JDK8之前的日期API"><a href="#JDK8之前的日期API" class="headerlink" title="JDK8之前的日期API"></a>JDK8之前的日期API</h2><h3 id="System类中currentTimeMillis"><a href="#System类中currentTimeMillis" class="headerlink" title="System类中currentTimeMillis()"></a>System类中currentTimeMillis()</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> time = system.currentTimeMills();</span><br><span class="line"><span class="comment">//代表1970年1月1日00：00：00到现在的时间差，毫秒单位</span></span><br><span class="line">sout(time);<span class="comment">//输出一个时间戳，可作为唯一量标识一些东西</span></span><br></pre></td></tr></table></figure>

<h3 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h3><h4 id="java-util-Date"><a href="#java-util-Date" class="headerlink" title="java.util.Date"></a>java.util.Date</h4><ul>
<li><p>两个构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. 空参,当前的年月日，星期，时间到秒</span></span><br><span class="line">Date date = <span class="keyword">new</span> Date();</span><br><span class="line">sout(date.toString());</span><br><span class="line">sout(date.gettime());<span class="comment">//和system.currentTimeMills()意义相同，时间戳</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2. long date 参数</span></span><br><span class="line">Date date1 = <span class="keyword">new</span> Date(date.gettime());<span class="comment">//毫秒数转成时间年月日星期</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="java-sql-Date"><a href="#java-sql-Date" class="headerlink" title="java.sql.Date"></a>java.sql.Date</h4><ul>
<li><p>和数据库交互时需要使用，实例化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java.sql.Date date2 = <span class="keyword">new</span> java.sql.Date(date.gettime());<span class="comment">//只有毫秒数的构造器</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>java.sql.Date =&gt; java.util.Date，<strong>子类可以转成父类，父类不可以转成子类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//直接赋值</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>java.util.Date =&gt; java.sql.Date，<strong>子类可以转成父类，父类不可以转成子类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. 使用java.sql.Date(long time)构造器实例化java.util.Date对象</span></span><br><span class="line">Date date3 = <span class="keyword">new</span> java.sql.Date(date.gettime());</span><br><span class="line">java.sql.Date date4 = (java.sql.Date)date3;</span><br><span class="line"><span class="comment">//2. 用时间戳转</span></span><br><span class="line">Date date3 = <span class="keyword">new</span> Date();</span><br><span class="line">java.sql.Date date4 = <span class="keyword">new</span> java.sql.Date(date.gettime());；</span><br></pre></td></tr></table></figure>


</li>
</ul>
<h3 id="java-text-SimpleDateFormat类"><a href="#java-text-SimpleDateFormat类" class="headerlink" title="java.text.SimpleDateFormat类"></a>java.text.SimpleDateFormat类</h3><h4 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h4><ul>
<li>日期 =&gt; 字符串</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//SimpleDateFormat：堆日期Date类的格式化和解析</span></span><br><span class="line"><span class="comment">//默认的构造器</span></span><br><span class="line">SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat();</span><br><span class="line">Date date = <span class="keyword">new</span> Date();</span><br><span class="line">String format = sdf.format(date);<span class="comment">//中文格式的日期输出</span></span><br></pre></td></tr></table></figure>

<h4 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h4><ul>
<li>字符串 =&gt; 日期</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">"2020-05-27"</span>;<span class="comment">//错误的格式</span></span><br><span class="line">String str = <span class="string">"20-05-27 上午11:44"</span>;<span class="comment">//合适的格式</span></span><br><span class="line">Date date = sdf.parse(str);</span><br></pre></td></tr></table></figure>

<ul>
<li>自定义格式构造器</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd hh:mm:ss"</span>);</span><br><span class="line">String format = sdf.format(date);</span><br><span class="line">Date date = sdf.parse(str);</span><br></pre></td></tr></table></figure>

<h3 id="计算两个日期之间的天数"><a href="#计算两个日期之间的天数" class="headerlink" title="计算两个日期之间的天数"></a>计算两个日期之间的天数</h3><ul>
<li>毫秒数</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(enddate.getTime() - startdate.getTime()) / (<span class="number">1000</span>*<span class="number">60</span>*<span class="number">60</span>*<span class="number">24</span>) + <span class="number">1</span></span><br></pre></td></tr></table></figure>

<ul>
<li>计算年月日的差，再计算闰年</li>
</ul>
<h3 id="java-util-Calendar"><a href="#java-util-Calendar" class="headerlink" title="java.util.Calendar"></a>java.util.Calendar</h3><h4 id="实例化"><a href="#实例化" class="headerlink" title="实例化"></a>实例化</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：Calendar是抽象类，创建其子类的对象GregorianCalendar</span></span><br><span class="line"><span class="comment">//方式二：调用其静态方法getInstance()</span></span><br><span class="line">Calendar calendar = Calendar.getInstance();</span><br></pre></td></tr></table></figure>

<h4 id="常用方法-1"><a href="#常用方法-1" class="headerlink" title="常用方法"></a>常用方法</h4><h5 id="get"><a href="#get" class="headerlink" title="get"></a>get</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//可以获取很多日期相关的数据</span></span><br><span class="line"><span class="comment">//DAY_OF_WEEK</span></span><br><span class="line"><span class="comment">//DAY_OF_YEAR</span></span><br><span class="line">calendar.get(Calendar.DAY_OF_MONTH);<span class="comment">//当前月的第几天</span></span><br></pre></td></tr></table></figure>

<h5 id="set"><a href="#set" class="headerlink" title="set"></a>set</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//没有返回值，直接改calendar</span></span><br><span class="line">calendar.set(Calendar.DAY_OF_MONTH,<span class="number">22</span>);<span class="comment">//将DAY_OF_MONTH改为22</span></span><br></pre></td></tr></table></figure>

<h5 id="add"><a href="#add" class="headerlink" title="add"></a>add</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//没有返回值，直接改calendar</span></span><br><span class="line">calendar.add(Calendar.DAY_OF_MONTH,<span class="number">3</span>);<span class="comment">//将DAY_OF_MONTH改为22+3</span></span><br><span class="line"><span class="comment">//减去的时候参数变为负数</span></span><br></pre></td></tr></table></figure>

<h5 id="Date-getTime"><a href="#Date-getTime" class="headerlink" title="Date getTime()"></a>Date getTime()</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回Date型数据</span></span><br><span class="line"><span class="comment">//Calendar转换为Date</span></span><br><span class="line">calendar.getTime();</span><br></pre></td></tr></table></figure>

<h5 id="setTime"><a href="#setTime" class="headerlink" title="setTime()"></a>setTime()</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Date类型转换为calendar</span></span><br><span class="line">calendar.setTime(date1);</span><br></pre></td></tr></table></figure>

<h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><ul>
<li>月份获取：1月：0；2月：1</li>
<li>星期：周一：2，周日：1，周6：7</li>
</ul>
<h2 id="JDK8中的新日期API"><a href="#JDK8中的新日期API" class="headerlink" title="JDK8中的新日期API"></a>JDK8中的新日期API</h2><ul>
<li>引入了java.time API纠正了缺陷，吸收了Joda-Time包的精华</li>
</ul>
<h3 id="Date-1"><a href="#Date-1" class="headerlink" title="Date"></a>Date</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//偏移量1900 1</span></span><br><span class="line">Date date = <span class="keyword">new</span> Date(<span class="number">2020</span>-<span class="number">1900</span>,<span class="number">9</span>-<span class="number">1</span>,<span class="number">8</span>);</span><br></pre></td></tr></table></figure>

<h3 id="LocalDate，LocalTime，LocatDateTiome"><a href="#LocalDate，LocalTime，LocatDateTiome" class="headerlink" title="LocalDate，LocalTime，LocatDateTiome"></a>LocalDate，LocalTime，LocatDateTiome</h3><ul>
<li>calendar是可变性，以下三个是不可变性</li>
<li>类似于calendar</li>
</ul>
<h4 id="实例化-1"><a href="#实例化-1" class="headerlink" title="实例化"></a>实例化</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取现在的时间</span></span><br><span class="line">LocalDate localdate = LocalDate.now();</span><br><span class="line">LocalTime localtime = LocalTime.now();</span><br><span class="line">LocalDateTime localdatetmie = LocalDateTime.now();</span><br><span class="line"><span class="comment">//设置指定的年月日(Date)，时分秒(Time)</span></span><br><span class="line">LocalDateTime localdatetmie = LocalDateTime.of(<span class="number">2020</span>,<span class="number">10</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">15</span>,<span class="number">20</span>);</span><br></pre></td></tr></table></figure>

<h4 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h4><h5 id="get-1"><a href="#get-1" class="headerlink" title="get"></a>get</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">localDateTime.getDayOfMonth();</span><br><span class="line">localDateTime.getDayOfWeek();</span><br><span class="line">localDateTime.getMonth();</span><br><span class="line">localDateTime.getMonthValue();<span class="comment">//这里二月就是2，和之前jdk7的不一样</span></span><br><span class="line">localDateTime.getMinute();</span><br></pre></td></tr></table></figure>

<h5 id="with"><a href="#with" class="headerlink" title="with"></a>with</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置时间</span></span><br><span class="line">LocalDateTime localdatetmie = localDateTime.withDayOfMonth(<span class="number">22</span>);<span class="comment">//改成22号</span></span><br></pre></td></tr></table></figure>

<h5 id="plus"><a href="#plus" class="headerlink" title="plus"></a>plus</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LocalDateTime localdatetmie = localDateTime.plusMonths(<span class="number">3</span>);<span class="comment">//加上三个月</span></span><br></pre></td></tr></table></figure>

<h5 id="minus"><a href="#minus" class="headerlink" title="minus"></a>minus</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LocalDateTime localdatetmie = localDateTime.minusMonths(<span class="number">3</span>);<span class="comment">//减去三个月</span></span><br></pre></td></tr></table></figure>

<h3 id="Instant"><a href="#Instant" class="headerlink" title="Instant"></a>Instant</h3><ul>
<li><p>类似于Date</p>
</li>
<li><p>获取时间线上一个瞬时点</p>
</li>
<li><p>一样是从1970年1.1 0分0时开始</p>
</li>
</ul>
<h4 id="实例化-2"><a href="#实例化-2" class="headerlink" title="实例化"></a>实例化</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Instant instant = Instant.now();<span class="comment">//有可能会有时差，获取本初子午线对应的时间</span></span><br><span class="line">OffsetDateTime offsetDateTime = instant.atOffset(ZoneOffset.ofHours(<span class="number">8</span>));<span class="comment">//时区加上8</span></span><br><span class="line">Instant instant1 = Instant.ofEpochMilli(毫秒数);<span class="comment">//通过毫秒数实例化</span></span><br></pre></td></tr></table></figure>

<h4 id="方法-1"><a href="#方法-1" class="headerlink" title="方法"></a>方法</h4><ul>
<li><p>toEpochMilli()</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取对应毫秒数从1970年1.1 0分0时开始</span></span><br><span class="line"><span class="keyword">long</span> milli = instant.toEpochMilli();</span><br></pre></td></tr></table></figure>


</li>
</ul>
<h3 id="DateTimeFormatter"><a href="#DateTimeFormatter" class="headerlink" title="DateTimeFormatter"></a>DateTimeFormatter</h3><ul>
<li>类似于SimpleDateFormat</li>
</ul>
<h4 id="实例化-3"><a href="#实例化-3" class="headerlink" title="实例化"></a>实例化</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一</span></span><br><span class="line">DateTimeFormatter formatter = DateTimeFormatter.ISO_LOCAL_DATE_TIME;</span><br><span class="line">LocalDateTime = localDateTime = LocalDateTime.now();</span><br><span class="line">String str1 = formatter.format(localDateTime);</span><br><span class="line"><span class="comment">//解析 字符串=》日期</span></span><br><span class="line">TemporalAccessor parse = formatter.parse(str1);</span><br><span class="line"></span><br><span class="line"><span class="comment">//方式二 本地化格式方式</span></span><br><span class="line">DateTimeFormatter formatter1 = DateTimeFormatter.ofLocalDateTime(FormatStyle.SHORT);<span class="comment">//LONG MEDIUM有星期</span></span><br><span class="line">String str2 = formatter.format(localDateTime);</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="comment">//自定义</span></span><br><span class="line">DateTimeFormatter formatter3 = DateTimeFormattter.ofPattern(<span class="string">"yyyy-MM-DD HH:MM:SS"</span>);</span><br><span class="line">String str2 = formatter3.(LocalDateTime.now());</span><br></pre></td></tr></table></figure>

<h1 id="JAVA比较器"><a href="#JAVA比较器" class="headerlink" title="JAVA比较器"></a>JAVA比较器</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ul>
<li>目的：对java对象进行比较</li>
</ul>
<h2 id="Comparable接口"><a href="#Comparable接口" class="headerlink" title="Comparable接口"></a>Comparable接口</h2><ul>
<li>自然排序</li>
</ul>
<h3 id="使用举例"><a href="#使用举例" class="headerlink" title="使用举例"></a>使用举例</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//String和包装类实现了Comparable接口，重写了compareTo方法</span></span><br><span class="line">String[] arr = <span class="keyword">new</span> String[]&#123;<span class="string">"a"</span>,<span class="string">"i"</span>,<span class="string">"d"</span>,<span class="string">"c"</span>&#125;;</span><br><span class="line">Arrays.sort(arr);</span><br><span class="line">sout(Arrays.toString(arr));</span><br></pre></td></tr></table></figure>

<h3 id="重写compareTo-方法"><a href="#重写compareTo-方法" class="headerlink" title="重写compareTo()方法"></a>重写compareTo()方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//默认从小打到大排序</span></span><br><span class="line">compareTo(obj)</span><br><span class="line">    <span class="keyword">this</span>大于obj：返回正整数</span><br><span class="line">    <span class="keyword">this</span>小于obj：返回负整数</span><br><span class="line">    <span class="keyword">this</span>等于obj：返回<span class="number">0</span></span><br></pre></td></tr></table></figure>

<h3 id="实现举例"><a href="#实现举例" class="headerlink" title="实现举例"></a>实现举例</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ComparableTest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">goods</span> <span class="keyword">implements</span> <span class="title">Comparable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> prices;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">goods</span><span class="params">(<span class="keyword">int</span> prices, String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.prices = prices;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getPrices</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> prices;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPrices</span><span class="params">(<span class="keyword">int</span> prices)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.prices = prices;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (o <span class="keyword">instanceof</span> goods) &#123;</span><br><span class="line">            goods good = (goods) o;</span><br><span class="line">            <span class="comment">//方式一</span></span><br><span class="line">            <span class="comment">// return Double.compare(this.price,goods.price);</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//方式二：手动实现了方式一</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.prices &gt; good.prices) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.prices &lt; good.prices) &#123;</span><br><span class="line">                <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//如果在相等的时候需要比较name来进行排序可以这样写</span></span><br><span class="line">                <span class="comment">//return this.name.compareTo(good.name);</span></span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"传入的数据类型不一致"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        goods[] arr = <span class="keyword">new</span> goods[<span class="number">3</span>];</span><br><span class="line">        arr[<span class="number">0</span>] = <span class="keyword">new</span> goods(<span class="number">1</span>,<span class="string">"a"</span>);</span><br><span class="line">        arr[<span class="number">1</span>] = <span class="keyword">new</span> goods(<span class="number">2</span>,<span class="string">"d"</span>);</span><br><span class="line">        arr[<span class="number">2</span>] = <span class="keyword">new</span> goods(<span class="number">2</span>,<span class="string">"b"</span>);</span><br><span class="line">        Arrays.sort(arr);<span class="comment">//只有比较对象参数</span></span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Comparator接口"><a href="#Comparator接口" class="headerlink" title="Comparator接口"></a>Comparator接口</h2><ul>
<li>定制排序<ul>
<li>对象的类型没有实现Comparable接口</li>
<li>不适合Comparable的排序规则</li>
</ul>
</li>
<li>compare()方法</li>
</ul>
<h3 id="使用实例"><a href="#使用实例" class="headerlink" title="使用实例"></a>使用实例</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//价格从小到大，价格相等，name从大到小</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        goods[] arr = <span class="keyword">new</span> goods[<span class="number">3</span>];</span><br><span class="line">        arr[<span class="number">0</span>] = <span class="keyword">new</span> goods(<span class="number">1</span>,<span class="string">"a"</span>);</span><br><span class="line">        arr[<span class="number">1</span>] = <span class="keyword">new</span> goods(<span class="number">2</span>,<span class="string">"d"</span>);</span><br><span class="line">        arr[<span class="number">2</span>] = <span class="keyword">new</span> goods(<span class="number">2</span>,<span class="string">"b"</span>);</span><br><span class="line">        Arrays.sort(arr, <span class="keyword">new</span> Comparator()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(o1 <span class="keyword">instanceof</span> goods &amp;&amp; o2 <span class="keyword">instanceof</span> goods) &#123;</span><br><span class="line">                    goods g1 = (goods) o1;</span><br><span class="line">                    goods g2 = (goods) o2;</span><br><span class="line">                    <span class="keyword">if</span>(g1.getName().equals(g2.getName()))&#123;</span><br><span class="line">                        <span class="keyword">return</span> -Double.compare(g1.getPrices(),g2.getPrices());</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        <span class="keyword">return</span> g1.getName().compareTo(g2.getName());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">throw</span>  <span class="keyword">new</span> RuntimeException(<span class="string">"类型错误"</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;);</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h2><ul>
<li><strong>Comparable接口时持续存在的</strong>，确定了一种排序方法后如果想要另一种排序同时使用，那么就会无从下手。</li>
<li><strong>Comparator类只是一次性的</strong></li>
</ul>
<h1 id="System类"><a href="#System类" class="headerlink" title="System类"></a>System类</h1><ul>
<li>系统级的属性和控制方法</li>
<li>类的构造器是私有的，不能去实例化</li>
</ul>
<h2 id="方法-2"><a href="#方法-2" class="headerlink" title="方法"></a>方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取当前的时间的毫秒数</span></span><br><span class="line"><span class="function"><span class="keyword">native</span> <span class="keyword">long</span> <span class="title">currentTiomeMills</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//图形化界面程序的推出功能</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exit</span><span class="params">(<span class="keyword">int</span> status)</span></span>;</span><br><span class="line"><span class="comment">//请求系统垃圾回收，是否会受取决于系统</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">gc</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//得到系统中对应属性的值</span></span><br><span class="line"><span class="function">String <span class="title">getProperty</span><span class="params">(String key)</span></span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">java.version</span></span><br><span class="line"><span class="comment">java.home</span></span><br><span class="line"><span class="comment">os.name</span></span><br><span class="line"><span class="comment">os.version</span></span><br><span class="line"><span class="comment">user.name</span></span><br><span class="line"><span class="comment">user.home</span></span><br><span class="line"><span class="comment">user.dir</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h1 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">abs 绝对值</span></span><br><span class="line"><span class="comment">acos,ash,atan,cos,sin,tan 三角函数</span></span><br><span class="line"><span class="comment">pow(double a,double b) a^b</span></span><br><span class="line"><span class="comment">log 对数</span></span><br><span class="line"><span class="comment">exp e为底指数</span></span><br><span class="line"><span class="comment">max(double a,double b)</span></span><br><span class="line"><span class="comment">min(double a,double b)</span></span><br><span class="line"><span class="comment">random() 返回0.0到1.0随机数</span></span><br><span class="line"><span class="comment">long round(double a) a转换为long型，四舍五入</span></span><br><span class="line"><span class="comment">toDegrees(double a) 弧度转角度</span></span><br><span class="line"><span class="comment">toRadians(double a) 角度转弧度</span></span><br></pre></td></tr></table></figure>

<h1 id="BigInteger"><a href="#BigInteger" class="headerlink" title="BigInteger"></a>BigInteger</h1><ul>
<li><p>int  2^31 - 1</p>
</li>
<li><p>long  2^63 - 1</p>
</li>
<li><p>BigInter 可以表示不可变的任意精度的<strong>整型</strong>数字</p>
</li>
</ul>
<h1 id="BigDecimal"><a href="#BigDecimal" class="headerlink" title="BigDecimal"></a>BigDecimal</h1><ul>
<li><strong>计算精度非常高，支持任意长度不可变十进制数</strong></li>
<li>double和float有精度损失</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//四舍五入 保留10位小数</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BigTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        BigDecimal num1 = <span class="keyword">new</span> BigDecimal(<span class="number">1235.254</span>);</span><br><span class="line">        BigDecimal num2 = <span class="keyword">new</span> BigDecimal(<span class="number">15.254</span>);</span><br><span class="line">        System.out.println(num1.divide(num2, <span class="number">10</span>, RoundingMode.HALF_UP));<span class="comment">//RoundingMode.HALF_UP 四舍五入</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/111zx/111zx.github.io/2020/05/26/%E5%B8%B8%E7%94%A8%E7%B1%BB/" data-id="ckbbzdvss000ct8ub2ympgy36" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linux" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/24/linux/" class="article-date">
  <time datetime="2020-05-24T04:38:31.000Z" itemprop="datePublished">2020-05-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/24/linux/">linux</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="第一章-概述"><a href="#第一章-概述" class="headerlink" title="第一章 概述"></a>第一章 概述</h1><h2 id="1-1-学习方向"><a href="#1-1-学习方向" class="headerlink" title="1-1 学习方向"></a>1-1 学习方向</h2><ul>
<li>linux运维工程师：维护大量服务器</li>
<li>JAVAEE：java程序一般是部署在Linux操作系统上</li>
</ul>
<h2 id="1-2-应用领域"><a href="#1-2-应用领域" class="headerlink" title="1-2 应用领域"></a>1-2 应用领域</h2><ul>
<li>个人桌面：弱</li>
<li>服务器：最强</li>
<li>嵌入式：定制OS内核</li>
</ul>
<h2 id="1-3-学习进阶之路"><a href="#1-3-学习进阶之路" class="headerlink" title="1-3 学习进阶之路"></a>1-3 学习进阶之路</h2><ol>
<li>linux环境下基本操作命令</li>
<li>linux各种配置</li>
<li>搭建语言开发环境（基本）</li>
<li>能写shell脚本，对Linux服务器进行维护</li>
<li>能进行安全设置，防止攻击，保障服务器正常运行，能对系统调优</li>
<li>深入理解Linux系统，内核优化</li>
</ol>
<hr>
<h1 id="第二章-Linux基础篇"><a href="#第二章-Linux基础篇" class="headerlink" title="第二章 Linux基础篇"></a>第二章 Linux基础篇</h1><h2 id="Linux入门"><a href="#Linux入门" class="headerlink" title="Linux入门"></a>Linux入门</h2><h3 id="Linux介绍"><a href="#Linux介绍" class="headerlink" title="Linux介绍"></a>Linux介绍</h3><ul>
<li>Linux时一款操作系统，免费，开源，安全，高效，<strong>稳定</strong>（服务器运行半年不需要重新启动，而Windows却不稳定），处理高并发非常强悍。企业级项目大多都部署在Linux上。.net一般会在Windows平台</li>
<li>创始人：linux（林纳斯），吉祥物：企鹅（tux，晚礼服）。</li>
<li><strong>linux内核</strong>是核心，各种发行版是在内核上添加各种应用软件。</li>
<li>Linux（菜）主要发行版（西红柿炒蛋）：<ul>
<li>Centos（前身是Redhat）</li>
<li>Redhat</li>
<li>Ubuntu</li>
<li>Suse</li>
<li>红旗Linux</li>
</ul>
</li>
<li>目前主要的操作系统：Windows，android，Mac，IOS。</li>
</ul>
<h2 id="Linux和Unix关系"><a href="#Linux和Unix关系" class="headerlink" title="Linux和Unix关系"></a>Linux和Unix关系</h2><ul>
<li><p>Ken tompson :C 语言和B语言创始人</p>
</li>
<li><p>Dennis richres：C语言之父</p>
</li>
<li><p>Richard Stallman：源码应该供用户免费开放</p>
<ul>
<li>GNU计划<ul>
<li>人=&gt;软件=&gt;shell=&gt;内核=&gt;硬件</li>
<li><strong>其中内核的开发引导着Linux的诞生</strong></li>
</ul>
</li>
</ul>
</li>
<li><p>贝尔实验室：</p>
<ul>
<li>通讯卫星</li>
<li>有声电影</li>
<li>晶体管</li>
</ul>
</li>
<li><p>Unix一开始用B语言做的，贝尔实验室<strong>73年用C语言实现</strong></p>
</li>
<li><p>Unix是开源的</p>
</li>
<li><p>由AT&amp;T System V版本演变来的Minix</p>
<ul>
<li>林纳斯在Minix的基础上开发出了Linux内核，最后一只演变到现在</li>
</ul>
</li>
</ul>
<h2 id="Linux和Windows比较"><a href="#Linux和Windows比较" class="headerlink" title="Linux和Windows比较"></a>Linux和Windows比较</h2><ul>
<li>windows<ul>
<li>贵</li>
<li>安全性弱</li>
<li>图形界面方便</li>
<li>可定制性差</li>
<li>桌面应用</li>
</ul>
</li>
<li>Linux<ul>
<li>开源，自由软件</li>
<li>相比Windows安全得多（原因：开源，每次发现漏洞就会发布，维护次数多）</li>
<li>命令行操作强大</li>
<li>开源，可定制</li>
<li>服务器应用</li>
</ul>
</li>
</ul>
<h3 id="Windows，VM-和-CentOS的关系"><a href="#Windows，VM-和-CentOS的关系" class="headerlink" title="Windows，VM 和 CentOS的关系"></a>Windows，VM 和 CentOS的关系</h3><ul>
<li>Windows：本机</li>
<li>VM软件：虚拟机空间</li>
<li>CentOS:一个系统在虚拟机空间运行</li>
<li>BIOS里修改设置开启虚拟化设备支持</li>
</ul>
<h3 id="CentOS安装"><a href="#CentOS安装" class="headerlink" title="CentOS安装"></a>CentOS安装</h3><h4 id="网络设置"><a href="#网络设置" class="headerlink" title="网络设置"></a>网络设置</h4><ul>
<li>桥连接模式：虚拟机的IP和主机的IP在一个网段<ul>
<li>可以和其他的系统通信</li>
<li>由于在一个网段，可能造成IP冲突</li>
</ul>
</li>
<li>NAT模式<ul>
<li>在主机上除了自己本身的IP网段，还会多出来一个IP网段，多出来的IP网段是Linux可以使用的IP网段</li>
<li>别的主机访问不到Linux，但是Linux可以通过主机访问到外网</li>
</ul>
</li>
<li>主机模式<ul>
<li>Linux是一个独立的主机，不能访问外网</li>
</ul>
</li>
<li>一般情况下选择NAT模式</li>
</ul>
<h4 id="正式安装"><a href="#正式安装" class="headerlink" title="正式安装"></a>正式安装</h4><ol>
<li>选择ISO镜像文件</li>
<li>next</li>
<li>在做开发时为主机设置根密码时，绝对不允许使用123456这种简单密码，很容易被破解。去自动生成随机密码。</li>
<li>手动分区<ul>
<li>boot分区：引导文件（200M）</li>
<li>swap分区：交换分区，暂时替代的虚拟分区（2048M（分配物理内存的1-1.5倍））</li>
<li>根分区L ：18231M</li>
</ul>
</li>
<li>自定义安装桌面（尽量小）<ul>
<li>兼容程序库</li>
<li>调试工具</li>
<li>互联网浏览器</li>
<li>桌面保留</li>
<li>语言中文</li>
</ul>
</li>
<li>Kdump<ul>
<li>内核崩溃转储机制。</li>
</ul>
</li>
</ol>
<h4 id="终端使用和联网"><a href="#终端使用和联网" class="headerlink" title="终端使用和联网"></a>终端使用和联网</h4><ul>
<li>点击右上侧的两个计算机的图标，选择eth0，即可完成网络连接。</li>
</ul>
<h2 id="和主机共享文件"><a href="#和主机共享文件" class="headerlink" title="和主机共享文件"></a>和主机共享文件</h2><h3 id="安装VMware-Tools-工具"><a href="#安装VMware-Tools-工具" class="headerlink" title="安装VMware Tools 工具"></a>安装VMware Tools 工具</h3><ol>
<li><p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200608155511139.png" alt="image-20200608155511139"></p>
</li>
<li><p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200608155629722.png" alt="image-20200608155629722"></p>
</li>
</ol>
<ul>
<li>将文件复制到桌面，解压这个压缩文件</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf VMwareTools-10.3.10-13959562.tar.gz</span><br></pre></td></tr></table></figure>

<ul>
<li>进入root用户，配置vmwaretools</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">su </span><br><span class="line"></span><br><span class="line">./vmware-install.pl</span><br></pre></td></tr></table></figure>

<ul>
<li>重启</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure>

<h3 id="设置共享文件"><a href="#设置共享文件" class="headerlink" title="设置共享文件"></a>设置共享文件</h3><ol>
<li>随意创建一个文件</li>
</ol>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200608162304223.png" alt="image-20200608162304223"></p>
<ol start="2">
<li>在虚拟机设置共享文件</li>
</ol>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200608162425436.png" alt="image-20200608162425436"></p>
<ol start="3">
<li>找到刚才创建的文件</li>
</ol>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200608162509170.png" alt="image-20200608162509170"></p>
<ol start="4">
<li><p>点击确定 next 设置完成</p>
</li>
<li><p>在Centos7上 找mnt/hdfs里面会有共享文件</p>
</li>
</ol>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200608164324116.png" alt="image-20200608164324116"></p>
<h2 id="文件系统目录结构"><a href="#文件系统目录结构" class="headerlink" title="文件系统目录结构"></a>文件系统目录结构</h2><ul>
<li><p>只有一个根目录“/”，是级层式的树结构</p>
</li>
<li><p>Linux世界里，一切皆文件</p>
</li>
<li><p>/dev 管理设备：里面有cpu，disk等</p>
</li>
<li><p>/media 媒体目录 u盘，光驱</p>
</li>
<li><p>/bin：最经常使用的命令</p>
</li>
<li><p>/sbin：系统管理员的管理程序</p>
</li>
<li><p>/home：普通用户的主目录</p>
</li>
<li><p>/lib：动态链接共享库</p>
</li>
<li><p>/etc：配置文件和子目录</p>
</li>
<li><p>/usr：用户安装的软件</p>
</li>
<li><p>/boot：引导系统</p>
</li>
<li><p>/mnt：临时挂载别的文件系统</p>
</li>
<li><p>/opt：安装软件所排放的目录</p>
</li>
<li><p>/usr/local：安装过后的目录</p>
</li>
<li><p>/var：日志文件和经常修改的文件</p>
</li>
</ul>
<h1 id="第三章-Linux实操篇"><a href="#第三章-Linux实操篇" class="headerlink" title="第三章 Linux实操篇"></a>第三章 Linux实操篇</h1><h2 id="远程登陆到Linux服务器"><a href="#远程登陆到Linux服务器" class="headerlink" title="远程登陆到Linux服务器"></a>远程登陆到Linux服务器</h2><h3 id="为什么要远程登陆到Linux"><a href="#为什么要远程登陆到Linux" class="headerlink" title="为什么要远程登陆到Linux"></a>为什么要远程登陆到Linux</h3><ul>
<li>Linux系统一般会放在专用的机房里，都需要远程操作</li>
<li>XShell5：远程登陆的软件</li>
<li>SFtp5：上传和下载文件的软件</li>
</ul>
<h3 id="Linux-Xshell5"><a href="#Linux-Xshell5" class="headerlink" title="Linux - Xshell5"></a>Linux - Xshell5</h3><ul>
<li>目前最好的远程登陆到Linux的软件，完美地解决了中文乱码的问题</li>
<li>支持SSH1,SSH2,以及Microsoft Windows平台的TELNET协议</li>
</ul>
<h4 id="安装Xshell5"><a href="#安装Xshell5" class="headerlink" title="安装Xshell5"></a>安装Xshell5</h4><ul>
<li><p><strong>sshd是用来确定别人远程登陆的，必须要开启</strong>，该服务会监听22号端口。</p>
<ul>
<li>在终端输入setup</li>
<li>系统服务</li>
<li>找到sshd，显示*即为打开状态</li>
</ul>
</li>
<li><p>安装过程（next）</p>
</li>
<li><p>配置过程</p>
</li>
</ul>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200610202248908.png" alt="image-20200610202248908"></p>
<ul>
<li>输入Linux用户名</li>
</ul>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200610202601933.png" alt="image-20200610202601933"></p>
<ul>
<li>输入Linux密码</li>
</ul>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200610202636219.png" alt="image-20200610202636219"></p>
<ul>
<li>登陆成功</li>
</ul>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200610202658109.png" alt="image-20200610202658109"></p>
<h4 id="安装XFTP5"><a href="#安装XFTP5" class="headerlink" title="安装XFTP5"></a>安装XFTP5</h4><ul>
<li>配置</li>
</ul>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200610213851434.png" alt="image-20200610213851434"></p>
<ul>
<li>解决乱码问题</li>
</ul>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200610214207616.png" alt="image-20200610214207616"></p>
<ul>
<li>传输</li>
</ul>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200610214409901.png" alt="image-20200610214409901"></p>
<h2 id="VIM编辑器"><a href="#VIM编辑器" class="headerlink" title="VIM编辑器"></a>VIM编辑器</h2><p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200612105352068.png" alt="image-20200612105352068"></p>
<h3 id="正常模式"><a href="#正常模式" class="headerlink" title="正常模式"></a>正常模式</h3><ul>
<li>可以使用快捷键</li>
</ul>
<h3 id="插入模式"><a href="#插入模式" class="headerlink" title="插入模式"></a>插入模式</h3><ul>
<li>可以输入内容 <ul>
<li>输入i即可输入内容</li>
<li>Esc退出插入模式:wq 保存并退出</li>
<li>:q!不保存并退出</li>
</ul>
</li>
</ul>
<h3 id="命令行模式"><a href="#命令行模式" class="headerlink" title="命令行模式"></a>命令行模式</h3><ul>
<li>提供相关指令的操作</li>
</ul>
<h3 id="vi和vim快捷键"><a href="#vi和vim快捷键" class="headerlink" title="vi和vim快捷键"></a>vi和vim快捷键</h3><ul>
<li>复制当前光标所在行：yy（正常模式）</li>
<li>复制包括当前光标所在行内往下5行的数据：5yy（正常模式）</li>
<li>将粘贴板的内容插入到当前光标行下面：p（正常模式）</li>
<li>删除当前光标所在行：dd（正常模式）</li>
<li>删除包括当前光标所在行内往下5行的数据：5dd（正常模式）</li>
<li>在文件中查找某些单词，命令行模式：/hello 回车即可查找（命令行模式）</li>
<li>设置文件的行号:set nu，取消文件的行号:set nonu(命令行模式）</li>
<li>移动到文件的最首行G和最末行gg(正常模式)</li>
<li>撤销操作u(正常模式)</li>
<li>移动到文件的第10行<ol>
<li>显示行号</li>
<li>输入10，回车</li>
</ol>
</li>
</ul>
<h2 id="开机，重启和用户注销"><a href="#开机，重启和用户注销" class="headerlink" title="开机，重启和用户注销"></a>开机，重启和用户注销</h2><h3 id="开机重启命令"><a href="#开机重启命令" class="headerlink" title="开机重启命令"></a>开机重启命令</h3><ul>
<li>shutdown<ul>
<li>shutdown -h now：立即关机</li>
<li>shutdown -h 1：1分钟后关机</li>
<li>shutdown -r now：立即重启</li>
</ul>
</li>
<li>halt：关机命令</li>
<li>reboot：重启</li>
<li>sync：将内存的数据同步到磁盘上，<strong>在关机和重启之前最好使用sync</strong></li>
</ul>
<h3 id="用户登录和注销"><a href="#用户登录和注销" class="headerlink" title="用户登录和注销"></a>用户登录和注销</h3><ul>
<li>尽量少使用root账号登陆，权限为最大，避免操作失误造成系统崩溃。一般以普通用户登录，然后用su登陆root</li>
<li>logout注销账户，<strong>在远程登陆（运行级别3）上使用</strong>，在图形界面是无效的。</li>
</ul>
<h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200612113244241.png" alt="image-20200612113244241"></p>
<ul>
<li>Linux具有用户组<ul>
<li>root组</li>
<li>其他组</li>
</ul>
</li>
<li>Linux具有用户家目录<ul>
<li>根目录下的home目录下有各个用户对应的家目录，用户登录时会自动进入自己的家目录</li>
</ul>
</li>
</ul>
<h3 id="添加用户"><a href="#添加用户" class="headerlink" title="添加用户"></a>添加用户</h3><ul>
<li><p>使用者要想使用系统必须要申请一个用户</p>
</li>
<li><p>useradd [可选] 用户名（root用户下执行）</p>
<ul>
<li>执行完后会在home目录下生成一个设置的用户名的家目录</li>
<li>也可以指定目录进行创建useradd -d /home/zx zx1</li>
</ul>
</li>
</ul>
<h3 id="修改密码"><a href="#修改密码" class="headerlink" title="修改密码"></a>修改密码</h3><ul>
<li>修改密码passwd zx1</li>
</ul>
<h3 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a>删除用户</h3><ul>
<li>保留家目录<ul>
<li>userdel zx1</li>
</ul>
</li>
<li>同时删除家目录<ul>
<li>userdel -r zx1</li>
</ul>
</li>
<li>实际使用时都会保留家目录</li>
</ul>
<h3 id="查询用户信息"><a href="#查询用户信息" class="headerlink" title="查询用户信息"></a>查询用户信息</h3><ul>
<li><p>如果用户不存在，返回无此用户</p>
</li>
<li><p>id zx1</p>
</li>
</ul>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200612163724707.png" alt="image-20200612163724707"></p>
<h3 id="切换用户"><a href="#切换用户" class="headerlink" title="切换用户"></a>切换用户</h3><ul>
<li><p>su zx1</p>
<ul>
<li>切换到zx1用户</li>
</ul>
</li>
<li><p>高权限用户到低权限用户不需要密码</p>
</li>
<li><p>exit </p>
<ul>
<li>回到原来的用户，回到高等级用户不需要密码</li>
</ul>
</li>
</ul>
<h3 id="用户组"><a href="#用户组" class="headerlink" title="用户组"></a>用户组</h3><ul>
<li>一个用户创建后会归属到一个用户组</li>
<li>系统对有共性的用户进行统一的管理</li>
</ul>
<h4 id="增加用户组"><a href="#增加用户组" class="headerlink" title="增加用户组"></a>增加用户组</h4><ul>
<li>groupadd zx</li>
</ul>
<h4 id="删除用户组"><a href="#删除用户组" class="headerlink" title="删除用户组"></a>删除用户组</h4><ul>
<li>groupdel zx</li>
</ul>
<h4 id="增加用户时指定用户组"><a href="#增加用户时指定用户组" class="headerlink" title="增加用户时指定用户组"></a>增加用户时指定用户组</h4><ul>
<li>useradd -g zx zx1</li>
</ul>
<h4 id="修改用户组"><a href="#修改用户组" class="headerlink" title="修改用户组"></a>修改用户组</h4><ul>
<li>usermod -g zz zx1<ul>
<li>将用户zx1修改到zz组</li>
</ul>
</li>
</ul>
<h4 id="用户配置文件和组配置文件"><a href="#用户配置文件和组配置文件" class="headerlink" title="用户配置文件和组配置文件"></a>用户配置文件和组配置文件</h4><ul>
<li>用户配置文件    /etc/passwd<ul>
<li>记录了用户的各种配置信息，x是加密的密码 ，看不到</li>
</ul>
</li>
</ul>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200612202846308.png" alt="image-20200612202846308"></p>
<ul>
<li>组配置文件 /etc/group<ul>
<li>记录组的配置信息,X是口令，不可见</li>
</ul>
</li>
</ul>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200612203556169.png" alt="image-20200612203556169"></p>
<ul>
<li>口令配置文件 /etc/shadow<ul>
<li>账户和密码信息</li>
</ul>
</li>
</ul>
<h2 id="实用指令"><a href="#实用指令" class="headerlink" title="实用指令"></a>实用指令</h2><h3 id="指定运行级别"><a href="#指定运行级别" class="headerlink" title="指定运行级别"></a>指定运行级别</h3><ol>
<li>关机</li>
<li>单用户：用来找回密码，进入root用户不需要密码</li>
<li>多用户无网络服务</li>
<li>多用户网络服务</li>
<li>保留</li>
<li>图形界面</li>
<li>重启</li>
</ol>
<ul>
<li>系统的运行级别配置文件 /etc/inittab<ul>
<li>常用运行级别是3和5，要修改默认的运行界别可该文件/etc/inittab中的id:5:initdefault:这一行数字</li>
</ul>
</li>
</ul>
<h4 id="切换到指定运行级别"><a href="#切换到指定运行级别" class="headerlink" title="切换到指定运行级别"></a>切换到指定运行级别</h4><ul>
<li>指令<ul>
<li>init[012356] 保留的4不用写</li>
<li>实例</li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-- 切换到运行级别3</span><br><span class="line">init 3</span><br><span class="line">-- 切换到运行级别5</span><br><span class="line">init 5</span><br><span class="line">-- 关机</span><br><span class="line">init 0</span><br></pre></td></tr></table></figure>

<h4 id="找回root密码"><a href="#找回root密码" class="headerlink" title="找回root密码"></a>找回root密码</h4><ul>
<li>进入单用户模式，然后修改密码</li>
</ul>
<ol>
<li>在登陆时看到这个界面，选中高亮，按e</li>
</ol>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200613101837537.png" alt="image-20200613101837537"></p>
<ol start="2">
<li>将ro（只读）改成rw（可写），添加途径init=/sysroot/bin/sh</li>
</ol>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200613130926342.png" alt="image-20200613130926342"></p>
<ol start="3">
<li>切换sysroot目录，输入passwd修改密码，需要输入两次</li>
</ol>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200613131141747.png" alt="image-20200613131141747"></p>
<ol start="4">
<li><p>由于更新passwd文件会导致SElinux上下文文件系统出现错误，所以需要输入touch /.autorelabel重新标记所有文件</p>
</li>
<li><p>exit一次，reboot</p>
</li>
</ol>
<h4 id="如何开机直接进入命令行页面"><a href="#如何开机直接进入命令行页面" class="headerlink" title="如何开机直接进入命令行页面"></a>如何开机直接进入命令行页面</h4><ul>
<li><p>修改/etc/inittab文件</p>
</li>
<li><p>将默认的5级别改成3级别</p>
</li>
</ul>
<h3 id="帮助指令"><a href="#帮助指令" class="headerlink" title="帮助指令"></a>帮助指令</h3><ul>
<li>语法<ul>
<li>help ls</li>
</ul>
</li>
</ul>
<h3 id="文件目录类"><a href="#文件目录类" class="headerlink" title="文件目录类"></a>文件目录类</h3><h4 id="pwd"><a href="#pwd" class="headerlink" title="pwd"></a>pwd</h4><ul>
<li>显示<strong>当前</strong>工作目录的<strong>绝对路径</strong></li>
</ul>
<h4 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h4><ul>
<li>ls -al:显示当前目录所有的文件和目录<strong>详细信息</strong>，包括<strong>隐藏</strong>的</li>
<li>ls -l：显示当前的目录<strong>详细信息</strong></li>
</ul>
<h4 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h4><ul>
<li>cd ~：回到家目录</li>
<li>cd ..：到达上一级</li>
<li>案例</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">从/root目录切换到/home目录</span><br><span class="line">*/</span><br><span class="line">--方式1 绝对路径</span><br><span class="line">cd /home</span><br><span class="line"></span><br><span class="line">--方式2 绝对路径</span><br><span class="line">cd ../home</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">从/usr/lib目录切换到/root目录</span><br><span class="line">*/</span><br><span class="line">--方式1 绝对路径</span><br><span class="line">cd /root</span><br><span class="line"></span><br><span class="line">--方式2 绝对路径</span><br><span class="line">cd ../../root</span><br></pre></td></tr></table></figure>

<h4 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h4><ul>
<li><p>介绍：用来创建目录</p>
</li>
<li><p>基本语法：mkdir [] 目录名</p>
</li>
<li><p>常用选项：<strong>mkdir -p（创建多级目录）</strong></p>
</li>
<li><p>案例</p>
<ul>
<li>mkdir /home/dog:表示在/home目录下创建dog目录</li>
<li>mkdir -p /home/animal/tiger:创建多级目录</li>
</ul>
</li>
</ul>
<h4 id="rmdir"><a href="#rmdir" class="headerlink" title="rmdir"></a>rmdir</h4><ul>
<li><p>介绍：删除<strong>空目录</strong></p>
</li>
<li><p>基本语法：rmdir [] <strong>空目录</strong>名</p>
</li>
<li><p>实例</p>
<ul>
<li>rmdir /home/dog:删除ome目录下的dog<strong>空目录</strong></li>
</ul>
</li>
<li><p>注意：只能删除<strong>空目录</strong>，若有内容，删除不了，需要用rm -rf /home/dog</p>
</li>
</ul>
<h4 id="touch"><a href="#touch" class="headerlink" title="touch"></a>touch</h4><ul>
<li>介绍：创建空文件</li>
<li>基本语法：touch 文件名</li>
<li>案例<ul>
<li>touch test.txt</li>
</ul>
</li>
<li>注意：可以一次性创建多个文件<ul>
<li>touch test1.txt test2.txt</li>
</ul>
</li>
</ul>
<h4 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h4><ul>
<li>介绍：拷贝文件到指定目录</li>
<li>基本语法：cp [] source dest</li>
<li>案例<ul>
<li>/home/aaa.txt拷贝到/home/bbb目录下：<ul>
<li>cp aaa.txt bbb/</li>
</ul>
</li>
<li>/home/bbb目录下的内容拷贝到/home/ccc的目录下:<ul>
<li>cp -r bbb/ ccc/</li>
</ul>
</li>
</ul>
</li>
<li>注意：如果拷贝相同名的文件夹不想要被提醒是否覆盖而直接覆盖,<strong>强制覆盖</strong><ul>
<li>\cp -r bbb/ ccc/</li>
</ul>
</li>
</ul>
<h4 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h4><ul>
<li>介绍：删除文件或目录</li>
<li>基本语法：rm [] 文件或目录</li>
<li>常用选项<ul>
<li>-r:   递归删除</li>
<li>-f：不提示是否删除直接删除</li>
</ul>
</li>
<li>实例<ul>
<li>rm -rf /home/dog:删除目录</li>
<li>rm -f test.txt:不提示是否删除直接删除</li>
</ul>
</li>
</ul>
<h4 id="mv"><a href="#mv" class="headerlink" title="mv"></a>mv</h4><ul>
<li><p>介绍：移动文件或重命名</p>
</li>
<li><p>基本语法</p>
<ul>
<li><p>mv oldname newname</p>
<ul>
<li>当前目录的oldname文件移动到当前目录newname文件，但是发现没有newname文件，所以直接覆盖oldname重命名为newname。</li>
</ul>
</li>
<li><p>mv /temp/movefile /targetFilder</p>
<ul>
<li>targetFilder目录是存在的，直接移动即可</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="cat"><a href="#cat" class="headerlink" title="cat"></a>cat</h4><ul>
<li>介绍：只能看，不能改</li>
<li>基本语法：cat [] 文件名</li>
<li>常用选项<ul>
<li>-n：显示行号</li>
</ul>
</li>
<li>案例<ul>
<li>cat -n /home/aaa.txt：<strong>整体显示并退出</strong></li>
<li>cat -n /home/aaa.txt | more：<strong>分页显示</strong></li>
</ul>
</li>
</ul>
<h4 id="more"><a href="#more" class="headerlink" title="more"></a>more</h4><ul>
<li>介绍：查看文本内容</li>
<li>基本语法：more 文件名</li>
<li>案例<ul>
<li>enter:向下一行</li>
<li>Ctil+b:向上翻页</li>
<li>Ctil+f:向下翻页</li>
<li>空格:向下翻页</li>
<li>=：显示当前行号</li>
</ul>
</li>
</ul>
<h4 id="less"><a href="#less" class="headerlink" title="less"></a>less</h4><ul>
<li><p>介绍：分屏查看文件</p>
<ul>
<li>不会讲整个文件全部加载后才显示，在加载<strong>大型文件</strong>是会先加载一部分显示，<strong>速度快</strong></li>
</ul>
</li>
<li><p>基本语法：less 文件名</p>
</li>
</ul>
<h4 id="gt"><a href="#gt" class="headerlink" title="&gt;"></a>&gt;</h4><ul>
<li>介绍：输出重定向（会覆盖原先文件）</li>
<li>基本语法：<ul>
<li>ls -l &gt; 文件名<ul>
<li>将ls -l显示的内容覆盖写入文件中，如果文件不存在，就创建文件</li>
</ul>
</li>
<li>ls -al &gt;&gt; 文件名<ul>
<li>列表内容追加到文件中，如果文件不存在，就创建文件</li>
</ul>
</li>
<li>cat 文件1 &gt; 文件2<ul>
<li>将文件1的内容覆盖到文件2，如果文件2不存在，就创建文件2</li>
</ul>
</li>
<li>echo “内容” &gt;&gt; 文件名<ul>
<li>在文件中追加内容，如果文件不存在，就创建文件</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="gt-gt"><a href="#gt-gt" class="headerlink" title="&gt;&gt;"></a>&gt;&gt;</h4><ul>
<li>介绍：追加内容</li>
<li>案例：<ul>
<li>将/home目录下的文件列表写入到/home/info.txt中<ul>
<li>ls -l /home &gt;/home/info.txt</li>
</ul>
</li>
<li>将当前日历信息追加到/home/mycal文件中<ul>
<li>cal &lt;&lt; /home/mycal</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h4><ul>
<li>介绍：输出内容到控制台</li>
<li>基本语法：echo [] 输出内容</li>
<li>案例<ul>
<li>使用echo指令输出环境变量，输出当前的环境路径<ul>
<li>echo $PATH</li>
</ul>
</li>
<li>输出hello world！<ul>
<li>echo “hello“</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="head"><a href="#head" class="headerlink" title="head"></a>head</h4><ul>
<li><p>介绍：显示文件的开头部分，默认显示前10行内容</p>
</li>
<li><p>基本语法</p>
<ul>
<li>head 文件名：前10行内容</li>
<li>head -n 5 文件名 ：前5行内容</li>
</ul>
</li>
<li><p>案例</p>
<ul>
<li>head -n 5 /etc/profile</li>
</ul>
</li>
</ul>
<h4 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h4><ul>
<li>介绍：输出文件尾部的部分，默认显示后10行</li>
<li>基本语法<ul>
<li>tail 文件名</li>
<li>tail -n 5</li>
<li>tail f 文件名：实时追踪该文档的所有操作记录</li>
</ul>
</li>
<li>案例<ul>
<li>实时监控mydate.txt，看看文件变化时，是否看到变化，如果有变化，将变化的内容依次显示出来<ul>
<li>tail -f mydate.txt</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="ln"><a href="#ln" class="headerlink" title="ln"></a>ln</h4><ul>
<li>介绍：软连接也叫符号链接，存放了连接其他文件的路径，类似于windows的快捷方式</li>
<li>基本语法<ul>
<li>ln -s 源文件目录 软连接名</li>
</ul>
</li>
<li>案例<ul>
<li>ln -s /root linkToRoot<ul>
<li>创建一个root目录的快捷方式 linkToRoot</li>
</ul>
</li>
<li>rm -rf  linkToRoot<ul>
<li>删除软连接的时候<strong>不需要带/</strong>例如：rm -rf  linkToRoot/,否则会删除链接目录下所有内容</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="history"><a href="#history" class="headerlink" title="history"></a>history</h4><ul>
<li>介绍：查看已经执行过历史指令命令，也可以执行历史命令</li>
<li>基本语法：<ul>
<li>history </li>
</ul>
</li>
<li>案例<ul>
<li>显示所有的执行过指令<ul>
<li>history</li>
</ul>
</li>
<li>显示执行过的最近10个指令<ul>
<li>history 10</li>
</ul>
</li>
<li>执行历史编号为5的指令<ul>
<li>! 5</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="时间日期类"><a href="#时间日期类" class="headerlink" title="时间日期类"></a>时间日期类</h3><ul>
<li>基本语法<ul>
<li>date</li>
<li>date “+%Y”</li>
<li>date “+%m”</li>
<li>date “+%d”</li>
<li>date “+%Y-%m-%d %H.%M.%S”</li>
</ul>
</li>
</ul>
<h4 id="设置日期"><a href="#设置日期" class="headerlink" title="设置日期"></a>设置日期</h4><ul>
<li>基本语法<ul>
<li>date -s 字符串时间</li>
</ul>
</li>
<li>案例<ul>
<li>date -s “2018-10-10 11:22:22”</li>
</ul>
</li>
</ul>
<h4 id="cal"><a href="#cal" class="headerlink" title="cal"></a>cal</h4><ul>
<li><p>介绍：显示日历时间</p>
</li>
<li><p>基本语法：cal</p>
</li>
<li><p>案例</p>
<ul>
<li>显示当前日历<ul>
<li>cal</li>
</ul>
</li>
<li>显示2020年日历<ul>
<li>cal 2020</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="搜索查找类"><a href="#搜索查找类" class="headerlink" title="搜索查找类"></a>搜索查找类</h3><h4 id="find"><a href="#find" class="headerlink" title="find"></a>find</h4><ul>
<li><p>介绍：将从指定目录向下递归的遍历其各个子目录，将满足条件的文件或者目录显示在终端</p>
</li>
<li><p>基本语法</p>
<ul>
<li>find [搜索范围] [选项]</li>
</ul>
</li>
<li><p>案例</p>
<ul>
<li>按文件名，根据名称查找/home目录下的hello.txt文件<ul>
<li>find /home -name hello.txt</li>
</ul>
</li>
<li>按文件拥有者查找<ul>
<li>find /opt -user zx：查找/opt目录下，用户名称为zx的文件</li>
</ul>
</li>
<li>按文件大小查找<ul>
<li>find / -size +20M：大于20M</li>
<li>find / -size -20M：小于20M</li>
<li>find / -size =20M：等于20M</li>
</ul>
</li>
<li>按通配符查找<ul>
<li>find / -name *.txt</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="locate"><a href="#locate" class="headerlink" title="locate"></a>locate</h4><ul>
<li><p>介绍：locaate指令可以快速定位文件路径。locate指令利用实现建立的系统中所有文件名称及路径的<strong>locate数据库</strong>实现<strong>快速定位给定的文件</strong>。locate指令无序遍历整个文件系统，<strong>查询速度较快</strong>。为了保证查询结果的准确性，管理员必须定期跟新locate时刻。</p>
</li>
<li><p>基本语法</p>
<ul>
<li>locate 文件名</li>
</ul>
</li>
<li><p>注意：在第一次查询之前，需要建立locate数据库</p>
</li>
<li><p>案例</p>
<ul>
<li><p>updatedb ：创建locate数据库</p>
<p>locate test.txt ：查询</p>
</li>
</ul>
</li>
</ul>
<h4 id="grep和管道符号"><a href="#grep和管道符号" class="headerlink" title="grep和管道符号"></a>grep和管道符号</h4><ul>
<li>介绍：过滤查找；管道符号：将前一个命令的处理结果输出传递给后面的命令处理</li>
<li>基本语法<ul>
<li>grep [] 查找内容 文件名</li>
</ul>
</li>
<li>选项<ul>
<li>-n：显示匹配行及行号</li>
<li>-i：忽略大小写</li>
</ul>
</li>
<li>案例<ul>
<li>cat hello.txt | grep -n hello：区分大小写</li>
<li>cat hello.txt | grep -ni hello:不区分大小写</li>
</ul>
</li>
</ul>
<h3 id="压缩和解压缩"><a href="#压缩和解压缩" class="headerlink" title="压缩和解压缩"></a>压缩和解压缩</h3><h4 id="gzip-gunzip"><a href="#gzip-gunzip" class="headerlink" title="gzip/gunzip"></a>gzip/gunzip</h4><ul>
<li><p>介绍：压缩和解压缩</p>
</li>
<li><p>基本语法：</p>
<ul>
<li><p>gzip 文件名.txt ：压缩为:文件名.txt.gz,并且不会保留文件名.txt</p>
</li>
<li><p>gunzip 文件名.gz：解压为：文件名,并且不会保留文件名.txt.gz</p>
</li>
</ul>
</li>
</ul>
<h3 id="zip-unzip"><a href="#zip-unzip" class="headerlink" title="zip/unzip"></a>zip/unzip</h3><ul>
<li>介绍：压缩文件和解压文件，多用于项目打包发布</li>
<li>基本语法：<ul>
<li>zip [] xxx.zip &lt;目录&gt;</li>
<li>unzip [] xxx.zip</li>
</ul>
</li>
<li>常用选项<ul>
<li>zip -r xxx.zip &lt;目录&gt;</li>
<li>unzip -d&lt;目录&gt;</li>
</ul>
</li>
<li>案例<ul>
<li>zip -r mypackage.zip /home/<ul>
<li>将/home目录下的内容压缩到mypackage.zip里</li>
</ul>
</li>
<li>unzip -d /home/test mypackage.zip<ul>
<li>将mypackage.zip的内容解压到/home/test目录里</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h4><ul>
<li><p>介绍：一个指令和不同参数结合解压和压缩</p>
</li>
<li><p>基本语法</p>
<ul>
<li>tar [] xxx.tar.gz 打包的内容</li>
</ul>
</li>
<li><p>案例</p>
<ul>
<li><p>/home下的a.txt和a1.txt压缩成a.tar.gz</p>
<ul>
<li>tar -zcvf a.tar.gz a1.txt a.txt</li>
</ul>
</li>
<li><p>打包/home目录下整个内容</p>
<ul>
<li>tar -zcvf myhone.tar.gz /home</li>
</ul>
</li>
<li><p>解压到当前目录</p>
<ul>
<li>tar -zxvf a.tar.gz </li>
</ul>
</li>
<li><p>解压到指定目录下</p>
<ul>
<li>tar -zxvf  myhome.tar.gz -C /opt/</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="组管理"><a href="#组管理" class="headerlink" title="组管理"></a>组管理</h2><h3 id="Linux组基本介绍"><a href="#Linux组基本介绍" class="headerlink" title="Linux组基本介绍"></a>Linux组基本介绍</h3><h4 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h4><ul>
<li>Linux中每个用户必须属于一个组，不能独立与组外。在Linux中每个文件所有者，所在组，其他组的概念。<ul>
<li>文件<ul>
<li>所有者</li>
<li>所在组</li>
<li>其他组：除去所在组</li>
<li>改变用户所在组</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="所有者"><a href="#所有者" class="headerlink" title="所有者"></a>所有者</h4><ul>
<li><p>介绍：文件的创建者</p>
</li>
<li><p>指令：ls -ahl</p>
</li>
<li><p>实例：创建一个组police，再创建一个用户tom，将tom放在police组内</p>
<ul>
<li><p>查看文件所有者</p>
<ul>
<li><p>groupadd police 创建组</p>
<p>useradd -g police tom 在police组内创建一个tom用户</p>
<p>passwd tom 设置密码</p>
<p>touch ok.txt 在tom用户下创建文件</p>
<p>ls -ahl ：显示文件所有者</p>
</li>
</ul>
</li>
<li><p>修改文件所有者</p>
<ul>
<li>touch apple.txt :在root用户下创建apple.txt</li>
<li>chown tom apple.txt:修改所有者为tom</li>
</ul>
</li>
</ul>
</li>
<li><p>注意：<strong>文件所有者有可能和所在组不是同一个组</strong>，上面案例tom是police组，但是apple.txt的所在组不是police，而是root</p>
</li>
</ul>
<h4 id="组的创建"><a href="#组的创建" class="headerlink" title="组的创建"></a>组的创建</h4><ul>
<li><p>介绍：创建组</p>
</li>
<li><p>指令：groupadd 组名</p>
</li>
<li><p>实例</p>
<ul>
<li><p>创建一个police组，将tom放到police组内</p>
<p>groupadd police </p>
<p>useradd -g police tom</p>
</li>
</ul>
</li>
</ul>
<h4 id="文件所在组"><a href="#文件所在组" class="headerlink" title="文件所在组"></a>文件所在组</h4><ul>
<li><p>介绍：当某个用户<strong>创建</strong>一个文件后，默认这个文件的<strong>所在组</strong>就是用户的所在组</p>
</li>
<li><p>案例</p>
<ul>
<li><p>修改文件所在组</p>
<p>chgrp police apple.txt :apple.txt文件从root变为police</p>
</li>
</ul>
</li>
</ul>
<h4 id="改变用户所在组"><a href="#改变用户所在组" class="headerlink" title="改变用户所在组"></a>改变用户所在组</h4><ul>
<li><p>介绍：root用户改变用户的所在组</p>
</li>
<li><p>案例：</p>
<ul>
<li><p>groupadd bandit ：创建bandit组</p>
<p>usrmod -g bandit tom：将tom从police组变换到bandit组</p>
</li>
</ul>
</li>
</ul>
<h2 id="权限详细介绍"><a href="#权限详细介绍" class="headerlink" title="权限详细介绍"></a>权限详细介绍</h2><h3 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">0</span></span><br><span class="line"><span class="comment">-：表示普通文件（常见）</span></span><br><span class="line"><span class="comment">d：表示目录（常见）</span></span><br><span class="line"><span class="comment">l：表示软链接文件</span></span><br><span class="line"><span class="comment">c：字符设备（键盘或者鼠标）</span></span><br><span class="line"><span class="comment">b：块文件（硬盘）</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">1-9</span></span><br><span class="line"><span class="comment">rw-：文件所有者的权限</span></span><br><span class="line"><span class="comment">r--：文件所在组的权限</span></span><br><span class="line"><span class="comment">r--：文件其他组的权限</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">l：如果是文件，表示硬链接的数，如果是目录，表示该目录的子目录个数</span></span><br><span class="line"><span class="comment">tom：所有者</span></span><br><span class="line"><span class="comment">police：所在组</span></span><br><span class="line"><span class="comment">6：大小</span></span><br><span class="line"><span class="comment">3月 18 19:24：文件最后的修改时间</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="rw权限详解"><a href="#rw权限详解" class="headerlink" title="rw权限详解"></a>rw权限详解</h3><h4 id="rwx作用在文件"><a href="#rwx作用在文件" class="headerlink" title="rwx作用在文件"></a>rwx作用在文件</h4><ul>
<li>r表示文件可读</li>
<li>w表示文件可修改，但不一定可以被删除</li>
<li>x可以执行文件</li>
</ul>
<h4 id="rwx作用在目录上"><a href="#rwx作用在目录上" class="headerlink" title="rwx作用在目录上"></a>rwx作用在目录上</h4><ul>
<li><p>r：可读取 ls</p>
</li>
<li><p>w：可修改，在目录内创建，删除，重命名目录</p>
</li>
<li><p>x：可以进入该目录</p>
</li>
<li><p>注意：</p>
<ul>
<li><p>cd.：当前目录</p>
</li>
<li><p>cd..：上一级目录</p>
</li>
<li><p><strong>目录的大小：4096</strong></p>
</li>
<li></li>
</ul>
</li>
</ul>
<h3 id="权限管理操作"><a href="#权限管理操作" class="headerlink" title="权限管理操作"></a>权限管理操作</h3><ul>
<li><p>介绍：chmod修改文件或目录权限</p>
</li>
<li><p>基本语法</p>
<ul>
<li>u：所有者</li>
<li>g：所有组</li>
<li>o：其他组</li>
<li>a：所有者，所有组和其他组</li>
</ul>
</li>
<li><p>案例：</p>
<ul>
<li><p>给abc文件的所有者读写执行权限，给所在组读执行权限，给其他组读执行权限</p>
<p>touch abc</p>
<p>chmod u=rwx,g=rx,o=rx abc</p>
</li>
<li><p>给文件所有者减去执行权限，给所在组增加写权限</p>
<p>chmod u-x,g+w abc</p>
</li>
<li><p>给所有用户增加读的权限</p>
<p>chmod a+r abc</p>
</li>
</ul>
</li>
</ul>
<h4 id="通过数字操作权限"><a href="#通过数字操作权限" class="headerlink" title="通过数字操作权限"></a>通过数字操作权限</h4><ul>
<li><p>rwz：111 = 2^2+2^1+2^0</p>
</li>
<li><p>案例</p>
<ul>
<li><p>将abc设置成所有者读写执行，所在组读执行，其他组读执行</p>
<p>chmod 755 abc</p>
</li>
</ul>
</li>
</ul>
<h4 id="修改文件所有者"><a href="#修改文件所有者" class="headerlink" title="修改文件所有者"></a>修改文件所有者</h4><ul>
<li><p>基本介绍：修改文件的所有者和所有组</p>
</li>
<li><p>选项</p>
<ul>
<li>-R 递归修改所有文件</li>
</ul>
</li>
<li><p>案例</p>
<ul>
<li><p>将/home/abc.txt 文件所有者改为tom</p>
<p>chown tom abc.txt</p>
</li>
<li><p><strong>将kkk/目录下的所有文件的所有者改成tom</strong></p>
<p>chown -R tom kkk/</p>
</li>
</ul>
</li>
</ul>
<h4 id="修改文件所在组"><a href="#修改文件所在组" class="headerlink" title="修改文件所在组"></a>修改文件所在组</h4><ul>
<li><p>基本介绍：修改文件所在组</p>
</li>
<li><p>案例</p>
<ul>
<li><p>递归地将/home/kkk目录下所有文件所在组全部改成bandit</p>
<p>chgrp -R bandit kkk/</p>
</li>
</ul>
</li>
</ul>
<h4 id="综合案例"><a href="#综合案例" class="headerlink" title="综合案例"></a>综合案例</h4><ul>
<li><p>要求：</p>
<ul>
<li>组：police，bandit</li>
<li>jack，jerry：警察</li>
<li>xh，xq：土匪</li>
</ul>
</li>
<li><p>实现</p>
<ol>
<li><p>创建组</p>
<p>groupadd police</p>
<p>groupadd bandit</p>
</li>
<li><p>创建用户</p>
<p>useradd -g police jack</p>
<p>useradd -g police jerry</p>
<p>useradd -g bandit xh</p>
<p>useradd -g bandit xq</p>
</li>
<li><p>jack创建一个文件，自己可以读写，本组人可以读，其他组没有任何权限</p>
<p>chmod 640 jackTest.txt</p>
</li>
<li><p>jack修改该文件，让其他组人可以读，本族人可以读写</p>
<p>chmod o=r g=rw jackTest.txt</p>
</li>
<li><p>xh加入警察组</p>
<p>usermod -g police xh：使用root让xh加入警察组</p>
<p>chmod g=rx jack/：jack设置权限让组内人可以执行和读</p>
<p>xh用户重新登陆，既可以看到jack/目录下内容</p>
</li>
</ol>
</li>
</ul>
<h2 id="定时任务调度"><a href="#定时任务调度" class="headerlink" title="定时任务调度"></a>定时任务调度</h2><h3 id="概述-2"><a href="#概述-2" class="headerlink" title="概述"></a>概述</h3><ul>
<li><p>任务调度是指系统在某个时间执行地特定地命令或程序</p>
</li>
<li><p>分类</p>
<ul>
<li>系统工作：病毒扫描</li>
<li>个别用户工作：对mysql数据库地备份</li>
</ul>
</li>
<li><p>基本语法</p>
<ul>
<li>crontab [选项]</li>
</ul>
</li>
<li><p>常用选项</p>
<ul>
<li>-e 编辑定时任务</li>
<li>-l 显示定时任务</li>
<li>-r 删除当前所有的定时任务</li>
</ul>
</li>
<li><p>案例</p>
<ul>
<li><p>问题：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br><span class="line">*/1 * * * * ls -l /etc &gt;&gt; /tmp/to.txt</span><br><span class="line">保存并退出</span><br><span class="line">在每一分钟后会添加ls -l /etc地内容到 /tmp/to.txt里</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="5个占位符地说明"><a href="#5个占位符地说明" class="headerlink" title="5个占位符地说明"></a>5个占位符地说明</h4><ul>
<li>第一个*：0-59，一个小时中的第几分钟分钟</li>
<li>第二个*：0-23，一天中的第几小时</li>
<li>第三个*：1-31，一月中地第几天</li>
<li>第四个*：1-12，一年中的第几个月</li>
<li>第五个*：0-7，星期</li>
</ul>
<h4 id="任务调度应用实例"><a href="#任务调度应用实例" class="headerlink" title="任务调度应用实例"></a>任务调度应用实例</h4><ol>
<li><p>每隔一分钟，就将当前的日期信息追加到/tmp/mydate 文件中</p>
<ul>
<li><p>先编写一个文件 /home/mytask1.sh</p>
<p>date &gt;&gt; /tmp/mydate</p>
</li>
<li><p>给mytask1.sh一个可执行权限</p>
</li>
<li><p>crontab -e </p>
<p>*/1 * * * * /home/mytask1.sh</p>
</li>
<li><p>完成操作</p>
</li>
</ul>
</li>
<li><p>每隔1分钟，将当前日期和日历都追加到/home/mycal文件中</p>
<ul>
<li><p>先编写一个文件 /home/mytask2.sh</p>
<p>date &gt;&gt; /tmp/mycal</p>
<p>cal &gt;&gt; /tmp/mycal</p>
</li>
<li><p>给mytask2.sh一个可执行权限</p>
</li>
<li><p>crontab -e </p>
<p>*/1 * * * * /home/mytask2.sh</p>
</li>
<li><p>完成操作</p>
</li>
</ul>
</li>
<li><p>每天凌晨2：00将mysql数据库testdb，备份到文件/tmp/mydb.bak中。</p>
<ul>
<li><p>先编写一个文件 /home/mytask3.sh</p>
<p>/usr/local/mysql/bin/mysqldump -u root -proot testdb &gt; /tmp/mydb.bak</p>
</li>
<li><p>给mytask3.sh一个可执行权限</p>
<p>chmod 744 /home/mytask3.sh</p>
</li>
<li><p>crontab -e </p>
<p>0 2 * * * /home/mytask2.sh</p>
</li>
<li><p>完成操作</p>
</li>
</ul>
</li>
</ol>
<h4 id="crond相关指令"><a href="#crond相关指令" class="headerlink" title="crond相关指令"></a>crond相关指令</h4><ul>
<li>crontab -l:显示所有任务</li>
<li>crontab -r：终止所有任务</li>
<li>service crond restart：重启任务调度</li>
</ul>
<h2 id="Linux的磁盘分区，挂载"><a href="#Linux的磁盘分区，挂载" class="headerlink" title="Linux的磁盘分区，挂载"></a>Linux的磁盘分区，挂载</h2><h3 id="分区的基本知识"><a href="#分区的基本知识" class="headerlink" title="分区的基本知识"></a>分区的基本知识</h3><ul>
<li>mbr分区：<ul>
<li>最多支持4个主分区</li>
<li>系统只能安装在主分区</li>
<li>扩展分区要占一个主分区</li>
<li>mbr最大支持2TB，但拥有最好的兼容性</li>
</ul>
</li>
<li>gtp分区<ul>
<li>支持无限多个分区</li>
<li>最大支持18EB的容量</li>
<li>windows 7 64位后支持gtp</li>
</ul>
</li>
</ul>
<h4 id="windows下的磁盘分区"><a href="#windows下的磁盘分区" class="headerlink" title="windows下的磁盘分区"></a>windows下的磁盘分区</h4><p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200614222450645.png" alt="image-20200614222450645"></p>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200614222625752.png" alt="image-20200614222625752"></p>
<h4 id="Linux磁盘分区"><a href="#Linux磁盘分区" class="headerlink" title="Linux磁盘分区"></a>Linux磁盘分区</h4><p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200614223113593.png" alt="image-20200614223113593"></p>
<ul>
<li>无论有几个分区，归根结底只会有一个根目录，一个独立且唯一的文件及结构，每个分区都是用来组成Linux的文件系统的一部分</li>
<li>Linux采用了一种叫做“挂载”的处理方式，它的整个文件系统中包含了一整套的文件和目录，且将一个分区和一个目录联系起来。这是要在如一个分区将使他的存储空间在一个目录下获得。</li>
</ul>
<h5 id="硬盘说明"><a href="#硬盘说明" class="headerlink" title="硬盘说明"></a>硬盘说明</h5><ul>
<li><p>Linux硬盘分为IDE硬盘和SCSI硬盘，目前基本上是SCSI硬盘</p>
<ul>
<li>对于IDE硬盘，驱动器标识符位“hdx”，其中hd表名分区所在设备的类型，这里是指IDE硬盘了。“x”为盘号（a为基本盘，b为基本从属盘，c为辅助主盘，d为辅助从属盘），“~”代表分区，前四个分区用数字1到4表示，他们是主分区或扩展分区，从5开始就是逻辑分区。例如，hda3表示第一个IDE硬盘上的第三个主分区或扩展分区，hdb2表示为第二个IDE硬盘上的第二个主分区或扩展分区</li>
<li>对于SCSI硬盘标识为“sdx“，SCSI硬盘使用”sd“来表示分区所在的设备的类型，其余和IDE相同</li>
</ul>
</li>
<li><p>lsblk -f（记忆：老师不离开）：查看系统分区和挂载的情况，可现实分区类型和唯一标识</p>
</li>
</ul>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200614224737339.png" alt="image-20200614224737339"></p>
<ul>
<li>lsblk：查看系统分区和挂载的情况，可以显示大小</li>
</ul>
<h4 id="挂载的经典案例"><a href="#挂载的经典案例" class="headerlink" title="挂载的经典案例"></a>挂载的经典案例</h4><ul>
<li><p>增加一块硬盘sdb1，然后挂载到文件系统的/home/newdisk上</p>
</li>
<li><p>步骤</p>
<ul>
<li><p>虚拟机添加硬盘</p>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200614230752313.png" alt="image-20200614230752313"></p>
<ul>
<li>设置=》硬盘=》添加</li>
</ul>
</li>
<li><p>分区</p>
<ul>
<li>fdisk /dev/sdb</li>
</ul>
</li>
<li><p>格式化</p>
<ul>
<li>mkfs -t ext4 /dev/sdb1</li>
</ul>
</li>
<li><p>挂载</p>
<ul>
<li>mkdir /home/newdisk</li>
<li>mount /dev/sdb1 /home/newdisk（如果需要卸载那么是：umount /dev/sdb1 或者 umount /home/newdisk）</li>
<li>此步骤之前是<strong>临时挂载</strong>，重启之后会<strong>失效</strong></li>
</ul>
</li>
<li><p>设置可以自动挂载</p>
<ul>
<li><p>此步骤是<strong>永久挂载</strong>，重启系统之后任然可以挂载到/home/newdisk上</p>
</li>
<li><p>vim /etc/fstab</p>
<p>/dev/sdb1                /home/newdisk       ext4   defaults   0 0</p>
</li>
<li><p>mount -a</p>
</li>
<li><p>完成操作</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="磁盘查询指令"><a href="#磁盘查询指令" class="headerlink" title="磁盘查询指令"></a>磁盘查询指令</h2><ul>
<li><p>查询系统整体磁盘使用情况</p>
</li>
<li><p>基本语法</p>
<p>df -h</p>
</li>
<li><p>实例</p>
<ul>
<li><p>磁盘情况查询</p>
<p>df -l</p>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200615095559487.png" alt="image-20200615095559487"></p>
</li>
<li><p>指定目录的磁盘占用情况</p>
<ul>
<li><p>基本语法：</p>
<p>du -h /目录</p>
<p>查询指定目录的磁盘占用情况，默认为当前目录</p>
<p>-s 指定目录占用大小汇总</p>
<p>-h 带计量单位</p>
<p>-a 含文件</p>
<p>–max-depth=1 子目录深度</p>
<p>-c 列出明细的同时，增加汇总值</p>
</li>
<li><p>实例：查询/opt目录的磁盘使用情况，深度为1</p>
<p>du -ach –max-depth=1 /opt</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200615100159386.png" alt="image-20200615100159386"></p>
<h3 id="工作中常用到的指令"><a href="#工作中常用到的指令" class="headerlink" title="工作中常用到的指令"></a>工作中常用到的指令</h3><ul>
<li><p>统计/home文件夹下文件的个数</p>
<p>ls -l /home | grep “^-“ | wc -l</p>
</li>
<li><p>统计/home文件夹下目录的个数</p>
<p>ls -l /home | grep “^d” | wc -l</p>
</li>
<li><p>统计统计/home文件夹下文件的个数，包括子文件夹里的文件</p>
<p>ls -lR /home | grep “^-“ | wc -l</p>
</li>
<li><p>统计统计/home文件夹下目录的个数，包括子文件夹里的文件</p>
<p>ls -lR /home | grep “^d” | wc -l</p>
</li>
<li><p>以树状显示文件系统</p>
<ul>
<li><p>如果没有tree指令，安装：yum install tree</p>
<p>tree</p>
</li>
</ul>
</li>
</ul>
<h2 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h2><h3 id="Linux网络配置原理图"><a href="#Linux网络配置原理图" class="headerlink" title="Linux网络配置原理图"></a>Linux网络配置原理图</h3><p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200615104816092.png" alt="image-20200615104816092"></p>
<h3 id="查看网络IP和网关"><a href="#查看网络IP和网关" class="headerlink" title="查看网络IP和网关"></a>查看网络IP和网关</h3><ul>
<li>编辑<ul>
<li>虚拟网络编辑器</li>
</ul>
</li>
</ul>
<h3 id="修改网络IP"><a href="#修改网络IP" class="headerlink" title="修改网络IP"></a>修改网络IP</h3><p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200615105152103.png" alt="image-20200615105152103"></p>
<h3 id="查看网关"><a href="#查看网关" class="headerlink" title="查看网关"></a>查看网关</h3><p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200615105315770.png" alt="image-20200615105315770"></p>
<h3 id="查看网络是否联通"><a href="#查看网络是否联通" class="headerlink" title="查看网络是否联通"></a>查看网络是否联通</h3><ul>
<li>ping IP</li>
</ul>
<h3 id="自动获取IP"><a href="#自动获取IP" class="headerlink" title="自动获取IP"></a>自动获取IP</h3><p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200615111128250.png" alt="image-20200615111128250"></p>
<ul>
<li>勾选自动连接</li>
<li>缺点：不适用做服务器，每次获取的IP地址都不同</li>
</ul>
<h3 id="指定固定IP地址"><a href="#指定固定IP地址" class="headerlink" title="指定固定IP地址"></a>指定固定IP地址</h3><ul>
<li><p>直接修改配置文件来指定IP，并可以连接到外网</p>
<p>vi /etc/sysconfig/network-scripts/ifcfg-eth0</p>
</li>
</ul>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200615111955744.png" alt="image-20200615111955744"></p>
<ul>
<li><p>重启服务</p>
<p>service network restart</p>
</li>
</ul>
<h2 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h2><h3 id="概述-3"><a href="#概述-3" class="headerlink" title="概述"></a>概述</h3><ul>
<li>windows的任务管理器里有进程</li>
</ul>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200615113949177.png" alt="image-20200615113949177"></p>
<h3 id="Linux中进程介绍"><a href="#Linux中进程介绍" class="headerlink" title="Linux中进程介绍"></a>Linux中进程介绍</h3><ul>
<li>Linux中，每个执行的程序都称为一个进程。每一个进程都分配一个ID号</li>
<li>每个进程都会对应一个父进程，而这个父进程可以复制多个子进程。例如www服务器</li>
<li>每个进程都可能以两种方式存在。前台和后台，所谓前台进程就是用户目前的屏幕上可以进行操作的。后台进程则是实际在操作，但由于屏幕上无法看到的进程，在后台操作</li>
<li>一般系统的服务都是后台进程的方式存在，而且都会常驻在系统中。知道关机才结束</li>
</ul>
<h4 id="显示系统中执行的进程"><a href="#显示系统中执行的进程" class="headerlink" title="显示系统中执行的进程"></a>显示系统中执行的进程</h4><ul>
<li>PS指令是用来查看系统当前存在的进程的，一般来说，使用的参数是-aus<ul>
<li>ps -a：显示当前终端的所有进程</li>
<li>ps -u：以用户的格式显示进程信息</li>
<li>ps -x：显示后台进程运行的参数</li>
</ul>
</li>
</ul>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200615115008377.png" alt="image-20200615115008377"></p>
<h4 id="PS指令详解"><a href="#PS指令详解" class="headerlink" title="PS指令详解"></a>PS指令详解</h4><p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200615115902096.png" alt="image-20200615115902096"></p>
<ul>
<li><p>ps -ef |more</p>
<ul>
<li>查看父进程，PPID表示父进程ID</li>
</ul>
</li>
<li><p>案例</p>
<ul>
<li><p>希望查看sshd进程的父进程号是多少</p>
<p>ps -aux |grep sshd</p>
</li>
</ul>
</li>
</ul>
<h3 id="终止进程kill和killall"><a href="#终止进程kill和killall" class="headerlink" title="终止进程kill和killall"></a>终止进程kill和killall</h3><h4 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li>kill [] 进程号</li>
<li>killall 进程名称 （支持通配符）</li>
</ul>
<h4 id="常用选项"><a href="#常用选项" class="headerlink" title="常用选项"></a>常用选项</h4><ul>
<li>-9：强制终止</li>
</ul>
<h4 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h4><ul>
<li><p>从root用户踢掉非法用户</p>
<p>ps -aux | grep sshd：显示服务器进程</p>
<p>kill 4010：杀死进程</p>
</li>
<li><p>终止多个gedit编辑器</p>
<p>killall gedit:杀死所有的gedit进程</p>
</li>
<li><p>强制杀掉终端</p>
<p>ps -aux |grep bash:只要显示/bin/bash，就是一个终端</p>
<p>kill -9 4090：也可以在终端杀死自己这个终端</p>
</li>
</ul>
<h4 id="pstree"><a href="#pstree" class="headerlink" title="pstree"></a>pstree</h4><ul>
<li>查看进程树</li>
<li>常用选项<ul>
<li>-p：显示进程PID</li>
<li>-u：显示所属用户</li>
</ul>
</li>
<li>案例<ul>
<li>pstree -p</li>
<li>pstree -u</li>
</ul>
</li>
</ul>
<h3 id="服务管理"><a href="#服务管理" class="headerlink" title="服务管理"></a>服务管理</h3><h4 id="概述-4"><a href="#概述-4" class="headerlink" title="概述"></a>概述</h4><ul>
<li>介绍：服务本质就是进程，但是在后台运行，通常都会监听某个端口，等待其他程序的请求，比如mysql，sshd，防火墙等，因此我们又称为守护进程，是Linux中非常中孤傲的知识点</li>
</ul>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200616104510569.png" alt="image-20200616104510569"></p>
<h4 id="管理指令"><a href="#管理指令" class="headerlink" title="管理指令"></a>管理指令</h4><ul>
<li><p>service 服务名 []</p>
<ul>
<li>start</li>
<li>stop</li>
<li>restart</li>
<li>reload</li>
<li>status</li>
</ul>
</li>
<li><p>案例查看当前防火墙的状态，关闭防火墙，重启防火墙</p>
<ul>
<li>service iptables status</li>
<li>service iptables stop</li>
<li>service iptables restart</li>
</ul>
</li>
<li><p><strong>注意：在windows通过telnet指令检查linux的某个端口是否在监听，并且可以访问</strong></p>
<ul>
<li><p>dos窗口下：</p>
<p>telnet ip地址 端口号</p>
<p>telnet 192.168.208.130  22</p>
</li>
</ul>
</li>
<li><p>细节相关</p>
<ul>
<li>关闭或者启用防火墙后，立即生效。</li>
<li>这种方式只是<strong>临时生效</strong>，当气筒重启后，还是<strong>回归以前对服务的设置</strong></li>
<li>如果希望设置某个服务自启动或者关闭永久生效，需要使用chkconfig指令</li>
</ul>
</li>
<li><p>查看服务名</p>
<ul>
<li><p>指令：</p>
<p>方式一：setup</p>
</li>
</ul>
</li>
</ul>
<img src="/111zx/111zx.github.io/2020/05/24/linux/Users\14914\AppData\Roaming\Typora\typora-user-images\image-20200616105802857.png" alt="image-20200616105802857" style="zoom: 50%;">

<p>​            方式二：ls -l /etc/init.d/</p>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200616105931331.png" alt="image-20200616105931331"></p>
<h4 id="运行级别"><a href="#运行级别" class="headerlink" title="运行级别"></a>运行级别</h4><ul>
<li>七种级别<ul>
<li>0关机</li>
<li>1单用户工作级别</li>
<li>2</li>
<li>。。。</li>
<li>6重启</li>
</ul>
</li>
<li>修改默认级别<ul>
<li>vi /etc/inittab</li>
</ul>
</li>
<li>开机的流程说明<ul>
<li>开机</li>
<li>BIOS</li>
<li>/boot</li>
<li>init进程1</li>
<li>运行级别</li>
<li>运行级对应的服务</li>
</ul>
</li>
</ul>
<h4 id="chkconfig"><a href="#chkconfig" class="headerlink" title="chkconfig"></a>chkconfig</h4><ul>
<li>可以给每个服务的各个运行级别设置自启动/关闭</li>
<li>基本语法<ul>
<li>查看服务：chkconfig –list | grep 服务名</li>
<li>查看服务：chkconfig 服务名 –list</li>
<li>chkconfig –level 运行级别 服务名 on/off</li>
</ul>
</li>
<li>案例<ul>
<li>查看sshd服务的运行状态：service sshd status</li>
<li>在<strong>所有运行级别</strong>下开启防火墙：chkconfig iptables on</li>
</ul>
</li>
</ul>
<h5 id="使用细节"><a href="#使用细节" class="headerlink" title="使用细节"></a>使用细节</h5><ul>
<li>chkconfig重新设置后需要reboot才生效。</li>
</ul>
<h3 id="监控服务"><a href="#监控服务" class="headerlink" title="监控服务"></a>监控服务</h3><h4 id="动态监控进程"><a href="#动态监控进程" class="headerlink" title="动态监控进程"></a>动态监控进程</h4><ul>
<li><p>介绍：top和ps指令详细。他们都用来显示正在执行的进程。top和ps最大的不同是top在执行一段时间后可以更新正在运行的进程。</p>
</li>
<li><p>基本语法：top []</p>
</li>
<li><p>选项：</p>
<ul>
<li>-d</li>
<li>-i</li>
<li>-p</li>
</ul>
</li>
<li><p>交互操作说明</p>
<ul>
<li>P</li>
<li>M</li>
<li>N</li>
<li>q</li>
</ul>
</li>
<li><p>案例</p>
<ul>
<li><p>监视指定用户</p>
<p>top</p>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200616112831168.png" alt="image-20200616112831168"></p>
<p>输入u提示让你输入想要监控的进程，每隔三秒更新一次</p>
</li>
<li><p>终止指定的进程</p>
<p>top</p>
<p>输入k，输入进程号</p>
<p>按q可以推出</p>
</li>
<li><p>指定系统状态更新时间（默认一般是3s）</p>
<p>top -d 10</p>
</li>
<li><p>按照PID从大到小显示</p>
<ul>
<li>N</li>
</ul>
</li>
<li><p>按照内存使用率排序显示</p>
<ul>
<li>M</li>
</ul>
</li>
<li><p>按照cpu使用率排序显示</p>
<ul>
<li>P</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="监控网络服务"><a href="#监控网络服务" class="headerlink" title="监控网络服务"></a>监控网络服务</h4><ul>
<li>基本语法：netstat []</li>
<li>选项<ul>
<li>-an:按一定顺序排列输出</li>
<li>-p：显示哪个进程在调用</li>
<li>-anp：all of above</li>
</ul>
</li>
</ul>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200616113925325.png" alt="image-20200616113925325"></p>
<h2 id="RPM包的管理"><a href="#RPM包的管理" class="headerlink" title="RPM包的管理"></a>RPM包的管理</h2><ul>
<li>类似于windows的setup.exe,是一种用于互联网下载包的打包和安装工具。生成具有.rpm扩展满的文件。</li>
</ul>
<h3 id="简单查询指令"><a href="#简单查询指令" class="headerlink" title="简单查询指令"></a>简单查询指令</h3><p>rpm -qa | grep xx</p>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200617074302422.png" alt="image-20200617074302422"></p>
<ul>
<li><p>i686,i386表示32位系统，x86_64表示64位，noarch表示通用</p>
</li>
<li><p>其他查询指令</p>
<ul>
<li><p>rpm -qa：查询安装所有软件包的信息</p>
</li>
<li><p>rpm -q 软件包名：查询软件包是否安装</p>
<p>rpm -q firefox</p>
</li>
<li><p>rpm -qi 软件包名：查询软件包信息</p>
<p>rpm -qi firefox</p>
</li>
<li><p>rpm -ql 软件包名：查询软件包中的文件以及文件的位置</p>
<p>rpm -ql firefox</p>
</li>
<li><p>rpm -qf 文件全路径名：查询文件所属的软件包</p>
<p>rpm -qf /etc/passwd</p>
</li>
</ul>
</li>
</ul>
<h3 id="卸载指令"><a href="#卸载指令" class="headerlink" title="卸载指令"></a>卸载指令</h3><ul>
<li><p>rpm -e 软件包名</p>
<p>rpm -e firefox</p>
<ul>
<li>注意：有可能删除不了，其他程序在使用，强制删除： rpm -e –nodeps 软件包名</li>
</ul>
</li>
</ul>
<h3 id="安装指令"><a href="#安装指令" class="headerlink" title="安装指令"></a>安装指令</h3><ul>
<li><p>rpm -ivh 软件包全路径名称</p>
</li>
<li><p>操作步骤：</p>
<ol>
<li><p>先找到firefox的安装rpm包，需要挂载上Centos7 iso的文件，然后到/run/media/zx/下去找。</p>
<img src="/111zx/111zx.github.io/2020/05/24/linux/Users\14914\AppData\Roaming\Typora\typora-user-images\image-20200617080025538.png" alt="image-20200617080025538" style="zoom:50%;">
</li>
<li><p>进入Centos文件</p>
<p>cd iso文件</p>
</li>
<li><p>复制Packages中需要安装的包到安装目录上</p>
<p>cp 软件包 /opt/</p>
</li>
<li><p>安装</p>
<p>rpm -ivh 软件包</p>
</li>
</ol>
</li>
</ul>
<h2 id="YUM"><a href="#YUM" class="headerlink" title="YUM"></a>YUM</h2><h3 id="概述-5"><a href="#概述-5" class="headerlink" title="概述"></a>概述</h3><ul>
<li><p>介绍：Yum是一个Shell前端软件包管理器。基于RPM包管理，能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包。<strong>使用需要联网</strong>。</p>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200617080729649.png" alt="image-20200617080729649"></p>
</li>
</ul>
<h3 id="基本指令"><a href="#基本指令" class="headerlink" title="基本指令"></a>基本指令</h3><ul>
<li><p>查询yum服务器是否有需要安装的软件</p>
<p>yum list | grep 软件包</p>
</li>
<li><p>安装指定软件</p>
<p>yum install 软件</p>
<ul>
<li>注意：默认会安装最新版本的软件 </li>
</ul>
</li>
<li><p>删除所有相关文件</p>
<ul>
<li>rpm -qa | grep 文件名（java） | xargs rpm -e –nodeps</li>
</ul>
</li>
</ul>
<h1 id="第四章-JavaEE定制篇"><a href="#第四章-JavaEE定制篇" class="headerlink" title="第四章 JavaEE定制篇"></a>第四章 JavaEE定制篇</h1><p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200617095441374.png" alt="image-20200617095441374"></p>
<h2 id="JDK安装和配置"><a href="#JDK安装和配置" class="headerlink" title="JDK安装和配置"></a>JDK安装和配置</h2><ol>
<li><p>查看yum中jdk版本</p>
<p>yum list | grep jdk</p>
</li>
<li><p>选择最新x86_64位版本</p>
<p>yum install java-1.8.0-openjdk.x86_64</p>
</li>
<li><p>查看jdk安装路径（<strong>使用yum安装jdk一般不需要配置环境变量</strong>）</p>
<ul>
<li><p>查看java环境变量，如果没有显示，则说明没有配置</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $JAVA_HOME</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用rpm指令查看安装路径</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep java</span><br><span class="line">rpm -ql java-1.8.0-openjdk-1.8.0.252.b09-2.el7_8.x86_64</span><br></pre></td></tr></table></figure>

</li>
</ul>
<img src="/111zx/111zx.github.io/2020/05/24/linux/Users\14914\AppData\Roaming\Typora\typora-user-images\image-20200617112819812.png" alt="image-20200617112819812" style="zoom:50%;">

<ul>
<li><p>/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.252.b09-2.el7_8.x86_64即为路径。</p>
</li>
<li><p>进入环境变量配置文件/etc/profile</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure>

<ul>
<li>在文本末尾添加一下内容：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#java home</span><br><span class="line">export JAVA_HOME&#x3D;&#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;java-1.8.0-openjdk-1.8.0.252.b09-2.el7_8.x86_64</span><br><span class="line">export PATH&#x3D;$JAVA_HOME&#x2F;bin:$PATH</span><br><span class="line">export CLASSPATH&#x3D;.:$JAVA_HOME&#x2F;lib&#x2F;dt.jar:$JAVA_HOME&#x2F;lib&#x2F;tools.jar</span><br><span class="line">export JAVA_HOME  CLASSPATH  PATH</span><br></pre></td></tr></table></figure>

<ul>
<li>重新加载环境变量配置文件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure>

<ul>
<li>完成配置</li>
</ul>
</li>
</ol>
<h2 id="tomcat的安装和配置"><a href="#tomcat的安装和配置" class="headerlink" title="tomcat的安装和配置"></a>tomcat的安装和配置</h2><ol>
<li><p>确认安装好jdk</p>
</li>
<li><p>使用yum安装tomcat</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install tomcat</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装默认主页相关内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install tomcat-webapps tomcat-admin-webapps</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install tomcat-docs-webapp tomcat-javadoc</span><br></pre></td></tr></table></figure>
</li>
<li><p>启动tomcat,即可在本地访问localhost:8080</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start tomcat.service</span><br></pre></td></tr></table></figure>
</li>
<li><p>要想在windows访问，需要防火墙开启tomcat默认的8080端口号</p>
<p>vim /etc/sysconfig/iptables</p>
<ul>
<li><p>添加如下内容</p>
<p>-A INPUT -p tcp -m state –state NEW -m tcp –dport 8080 -j ACCEPT</p>
</li>
</ul>
</li>
<li><p>重启防火墙，在windows查看192.168.208.130:8080网页信息</p>
</li>
<li><p>windows开启telnet服务后才可以在dos通过telnet 192.168.208.130 8080 监听linux端口。</p>
<ul>
<li><p>控制面板</p>
</li>
<li><p>程序和功能</p>
</li>
<li><p>启动或关闭windows功能</p>
<p><img src="/111zx/111zx.github.io/2020/05/24/linux/C:%5CUsers%5C14914%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200617124536481.png" alt="image-20200617124536481"></p>
</li>
<li><p>将Telnet勾上，确定。</p>
</li>
</ul>
</li>
</ol>
<h2 id="Eclipse安装"><a href="#Eclipse安装" class="headerlink" title="Eclipse安装"></a>Eclipse安装</h2><ul>
<li>wget下载解压包，解压即可。</li>
</ul>
<h2 id="Mysql安装"><a href="#Mysql安装" class="headerlink" title="Mysql安装"></a>Mysql安装</h2><ol>
<li><p>安装编译代码需要的包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install make gcc-c++ cmake bison-devel ncurses-devel</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用wget下载mysql压缩包，并且解压到/opt目录下</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost /]<span class="meta">#  wget https:<span class="comment">//dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.24-linux-glibc2.12-x86_64.tar.gz</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>重命名移动到/usr/local/mysql下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv mysql-5.7.26-linux-glibc2.12-x86_64 &#x2F;usr&#x2F;local&#x2F;mysql</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建mysql用户组和用户并且修改权限</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">groupadd mysql</span><br><span class="line">useradd -r -g mysql mysql</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建数据目录并赋予权限</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p  &#x2F;data&#x2F;mysql              #创建目录</span><br><span class="line">chown mysql:mysql -R &#x2F;data&#x2F;mysql   #赋予权限</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置my.cnf(如果不懂，直接全部覆盖成如下内容)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">bind-address&#x3D;0.0.0.0</span><br><span class="line">port&#x3D;3306</span><br><span class="line">user&#x3D;mysql</span><br><span class="line">basedir&#x3D;&#x2F;usr&#x2F;local&#x2F;mysql</span><br><span class="line">datadir&#x3D;&#x2F;data&#x2F;mysql</span><br><span class="line">socket&#x3D;&#x2F;tmp&#x2F;mysql.sock</span><br><span class="line">log-error&#x3D;&#x2F;data&#x2F;mysql&#x2F;mysql.err</span><br><span class="line">pid-file&#x3D;&#x2F;data&#x2F;mysql&#x2F;mysql.pid</span><br><span class="line">#character config</span><br><span class="line">character_set_server&#x3D;utf8mb4</span><br><span class="line">symbolic-links&#x3D;0</span><br><span class="line">explicit_defaults_for_timestamp&#x3D;true</span><br></pre></td></tr></table></figure>
</li>
<li><p>进入mysql的bin目录，初始化数据库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin&#x2F;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;mysqld --defaults-file&#x3D;&#x2F;etc&#x2F;my.cnf --basedir&#x3D;&#x2F;usr&#x2F;local&#x2F;mysql&#x2F; --datadir&#x3D;&#x2F;data&#x2F;mysql&#x2F; --user&#x3D;mysql --initialize</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看mysql初始密码，一会修改密码需要使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat &#x2F;data&#x2F;mysql&#x2F;mysql.err</span><br></pre></td></tr></table></figure>
</li>
<li><p>启动mysql，更改root密码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cp &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;support-files&#x2F;mysql.server &#x2F;etc&#x2F;init.d&#x2F;mysql</span><br><span class="line"></span><br><span class="line">service mysql start</span><br></pre></td></tr></table></figure>
</li>
<li><p>登陆mysql</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;mysql -u root -p   #bin目录下</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改密码指令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SET PASSWORD &#x3D; PASSWORD(&#39;123456&#39;);</span><br><span class="line">ALTER USER &#39;root&#39;@&#39;localhost&#39; PASSWORD EXPIRE NEVER;</span><br><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果想要从windows访问数据库，需要将防火墙的3306端口对外开放</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;sysconfig&#x2F;iptables</span><br></pre></td></tr></table></figure>

<ul>
<li><p>加入以下内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-A INPUT -p tcp -m state --state NEW -m tcp --dport 3306 -j ACCEPT</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>在已有环境变量下创建一个mysql的软连接，保证使用便捷</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s  &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin&#x2F;mysql    &#x2F;usr&#x2F;bin</span><br></pre></td></tr></table></figure>
</li>
<li><p>完成所有安装</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/111zx/111zx.github.io/2020/05/24/linux/" data-id="ckbbzdvsa0005t8ub70rr1j4u" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-java基础-异常" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/24/java%E5%9F%BA%E7%A1%80-%E5%BC%82%E5%B8%B8/" class="article-date">
  <time datetime="2020-05-24T01:49:09.000Z" itemprop="datePublished">2020-05-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/24/java%E5%9F%BA%E7%A1%80-%E5%BC%82%E5%B8%B8/">java基础-异常</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="第一章-概述"><a href="#第一章-概述" class="headerlink" title="第一章 概述"></a>第一章 概述</h1><h2 id="1-1-为什么需要异常处理"><a href="#1-1-为什么需要异常处理" class="headerlink" title="1-1. 为什么需要异常处理"></a>1-1. 为什么需要异常处理</h2><ul>
<li>很多问题不是靠代码能够避免的,需要手动的设置异常处理。</li>
</ul>
<h2 id="1-2-异常是什么"><a href="#1-2-异常是什么" class="headerlink" title="1-2. 异常是什么"></a>1-2. 异常是什么</h2><ul>
<li>在程序执行过程中的不正常的情况，不包括语法错误和逻辑错误</li>
</ul>
<h3 id="1-2-1-Error"><a href="#1-2-1-Error" class="headerlink" title="1-2-1. Error"></a>1-2-1. Error</h3><ul>
<li><pre><code class="java">java.lang.Object
    java.lang.Throwable
        java.lang.Error
&lt;!--￼<span class="number">0</span>--&gt;</code></pre>
</li>
<li><pre><code class="java"><span class="comment">//编译时异常，在没有运行的时候</span>
java.lang.Object
    java.lang.Throwable
        java.lang.Exception
            IOException
                    FileNotFoundException<span class="comment">//无法找到文件异常</span>
            ClassNotFoundException
&lt;!--￼<span class="number">1</span>--&gt;</code></pre>
</li>
<li><p><strong>父类的异常类型放在子类的异常类型下面，不然会报错。没有继承关系的异常类型先后顺序无所谓</strong></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="comment">//可能出现异常的代码</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">    <span class="comment">//处理异常的方式</span></span><br><span class="line">    sout(e.getMessage());<span class="comment">//异常信息</span></span><br><span class="line">    e.printStackTrace();<span class="comment">//包含message，而且包含代码执行结构，可以找到出错的代码位置</span></span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">    <span class="comment">//一定会执行的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>处理编译时异常，保证不再编译时出现，但是会在运行时出现，转移了异常的出现时间。</li>
</ul>
<h4 id="finally"><a href="#finally" class="headerlink" title="finally"></a>finally</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="comment">//可能出现异常的代码</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">    <span class="comment">//处理异常的方式</span></span><br><span class="line">    sout(e.getMessage());<span class="comment">//异常信息</span></span><br><span class="line">    e.printStackTrace();<span class="comment">//包含message，而且包含代码执行结构，可以找到出错的代码位置</span></span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">    <span class="comment">//一定会执行的代码</span></span><br><span class="line">    sout(<span class="string">"test!"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>return</strong> </li>
<li><strong>catch中又出现异常</strong></li>
<li><strong>finally中的return会是最后一个return</strong></li>
<li><strong>数据库连接，IO流，Socket连接可以用finally关闭</strong>，JVM不能自动回收</li>
</ul>
<h3 id="2-2-2-throws-异常类型"><a href="#2-2-2-throws-异常类型" class="headerlink" title="2-2-2 throws + 异常类型"></a>2-2-2 throws + 异常类型</h3><ul>
<li>解决不了，<strong>喊人</strong></li>
<li>最高推到main方法</li>
<li>throws + 异常类型 在方法声明处。满足异常后就会抛出</li>
<li>和try-catch最大的区别，没有finally；不会处理，只会往上抛。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">psvm&#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        method1();</span><br><span class="line">    &#125;<span class="keyword">catch</span>(FileNotFoundException e)&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> method1 <span class="keyword">throw</span> FileNotFoundException,IOException()&#123;</span><br><span class="line">    method();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> method <span class="keyword">throws</span> FileNotFoundException,IOException()&#123;</span><br><span class="line">    <span class="comment">//文件和io流操作</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>方法重写的规则<ul>
<li>子类抛出的方法异常类型<strong>不大于父类</strong>被重写的方法抛出的异常类型，子类异常大的话可能会罩不住，一般方法都是调用父类的类名，按照父类的异常类型写的方法，所以子类要向下取。</li>
</ul>
</li>
</ul>
<h3 id="2-3-如何选择异常处理方式"><a href="#2-3-如何选择异常处理方式" class="headerlink" title="2-3 如何选择异常处理方式"></a>2-3 如何选择异常处理方式</h3><ul>
<li>如果父类中被重写的方法没有throws方式处理异常，则子类重写的方法也不能使用throws，如果要异常处理，只可以用try-catch-finally</li>
<li>执行的方法中，先后又调用类另外几个方法，这几个方法有数据传递。建议这几个方法使用throw方式，而执行的方法中可以用try-catch</li>
</ul>
<h3 id="2-4-手动抛出异常"><a href="#2-4-手动抛出异常" class="headerlink" title="2-4 手动抛出异常"></a>2-4 手动抛出异常</h3><ul>
<li><p>抛出异常的方式</p>
<ul>
<li><p>系统自动产生的异常</p>
</li>
<li><p>自己抛出的异常（throw）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"异常信息"</span>);<span class="comment">//只是抛出异常</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>throw和throws区别</p>
<ul>
<li>throw一定是有了异常才会<strong>抛出</strong>，而throws是<strong>抓住</strong>可能抛出的异常</li>
<li>一个在代码中，一个在方法声明的过程中</li>
</ul>
</li>
</ul>
<h3 id="2-5-用户自定义异常类"><a href="#2-5-用户自定义异常类" class="headerlink" title="2-5 用户自定义异常类"></a>2-5 用户自定义异常类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyException</span> <span class="keyword">extends</span> <span class="title">Exception</span></span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> seriaVerSIONID = -<span class="number">86789456484646L</span>;<span class="comment">//唯一标识异常</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyException</span><span class="params">()</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyException</span><span class="params">(Sting msg)</span></span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyException</span> <span class="keyword">extends</span> <span class="title">RuntimeException</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">pwvm&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> MyException(<span class="string">"异常信息"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="面试题"><a href="#面试题" class="headerlink" title="面试题"></a>面试题</h3><ul>
<li>throw和throws</li>
<li>Collection和Collections</li>
<li>String和StringBuffer，StringBuilder</li>
<li>ArrayList，LinkedList</li>
<li>Hashmap，LinkedHashmap</li>
<li>重写和重载</li>
<li>抽象类，接口</li>
<li>== 和 equals()</li>
<li>sleep(),wait()</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/111zx/111zx.github.io/2020/05/24/java%E5%9F%BA%E7%A1%80-%E5%BC%82%E5%B8%B8/" data-id="ckbbzdvsx000gt8ub66t69lm6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-MyBatis" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/20/MyBatis/" class="article-date">
  <time datetime="2020-05-20T03:10:50.000Z" itemprop="datePublished">2020-05-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/20/MyBatis/">MyBatis</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><ul>
<li><p>和数据库进行交互的工具</p>
</li>
<li><p>JDBC =&gt; Dbutils = &gt; jdbcTemplate,小工具（搓衣板）</p>
<ul>
<li>编写sql-&gt;预编译-&gt;设置参数-&gt;执行sql-&gt;封装结果</li>
<li>功能简单；sql语句编写在java代码里面；硬编码高耦合的方式（不推荐）</li>
</ul>
</li>
<li><p>框架是一个整体解决方案（洗衣机）</p>
<ul>
<li>事务控制等</li>
</ul>
</li>
<li><p>Hibermate,消除sql，很难优化优化，全自动全映射</p>
<p>javaBean ====&gt;….(编写sql-&gt;预编译-&gt;设置参数-&gt;执行sql-&gt;封装结果)..====&gt;DbRecords</p>
</li>
<li><p>希望sql语句交给开发人员编写，希望sql不是去灵活性。</p>
</li>
<li><p>MyBatis：sql语句放在配置文件中，和java编码分开。（半自动，轻量级框架）</p>
</li>
</ul>
<h2 id="MyBatis环境搭建"><a href="#MyBatis环境搭建" class="headerlink" title="MyBatis环境搭建"></a>MyBatis环境搭建</h2><h3 id="1-创建maven工程"><a href="#1-创建maven工程" class="headerlink" title="1. 创建maven工程"></a>1. 创建maven工程</h3><h3 id="2-添加MyBatis坐标"><a href="#2-添加MyBatis坐标" class="headerlink" title="2. 添加MyBatis坐标"></a>2. 添加MyBatis坐标</h3><ul>
<li><p>在pom.xml中添加MyBatis3.4.1坐标（根据情况定版本）</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;project xmlns=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span><br><span class="line">         xmlns:xsi=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">         xsi:schemaLocation=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span><br><span class="line">    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><br><span class="line"></span><br><span class="line">    &lt;groupId&gt;org.example&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mybatis2&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span><br><span class="line">    &lt;dependencies&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;3.4.1&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;5.1.6&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;log4j&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;log4j&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;1.2.12&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;junit&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;junit&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;4.10&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">    &lt;/dependencies&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h3 id="3-编写实体类"><a href="#3-编写实体类" class="headerlink" title="3.编写实体类"></a>3.编写实体类</h3><ul>
<li>要想输出整个实体，需要tostring方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String last_name;</span><br><span class="line">    <span class="keyword">private</span> String gender;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> last_name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.last_name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getGender</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setGender</span><span class="params">(String gender)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getEmail</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> email;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setEmail</span><span class="params">(String email)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.email = email;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"User&#123;"</span> +</span><br><span class="line">                <span class="string">"id="</span> + id +</span><br><span class="line">                <span class="string">", last_name='"</span> + last_name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", gender='"</span> + gender + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", email='"</span> + email + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-编写持久层接口IUserDao"><a href="#4-编写持久层接口IUserDao" class="headerlink" title="4. 编写持久层接口IUserDao"></a>4. 编写持久层接口IUserDao</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itheima.domain.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IUerDao</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查询所有用户</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">findAll</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-编写持久层接口映射文件"><a href="#5-编写持久层接口映射文件" class="headerlink" title="5. 编写持久层接口映射文件"></a>5. 编写持久层接口映射文件</h3><p><strong>要求：</strong><br><strong>创建位置：必须和持久层接口在相同路径名字的包中。</strong><br><strong>名称：必须以持久层接口名称命名文件名，扩展名是.xml</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper </span><br><span class="line"> PUBLIC <span class="string">"-//mybatis.org//DTD Mapper 3.0//EN"</span> </span><br><span class="line"> <span class="string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt; &lt;mapper namespace=<span class="string">"com.itheima.dao.IUserDao"</span>&gt;</span><br><span class="line">&lt;!-- 配置查询所有操作 --&gt; &lt;select id=<span class="string">"findAll"</span> resultType=<span class="string">"com.itheima.domain.User"</span>&gt;</span><br><span class="line">select * from user</span><br><span class="line">&lt;/</span><br></pre></td></tr></table></figure>

<h3 id="6-编写全局配置文件"><a href="#6-编写全局配置文件" class="headerlink" title="6. 编写全局配置文件"></a>6. 编写全局配置文件</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span> ?&gt;</span><br><span class="line">&lt;!DOCTYPE configuration</span><br><span class="line">        PUBLIC <span class="string">"-//mybatis.org//DTD Config 3.0//EN"</span></span><br><span class="line">        <span class="string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span><br><span class="line">&lt;!-- mybatis的主配置--&gt;</span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;!-- 配置环境--&gt;</span><br><span class="line">    &lt;environments <span class="keyword">default</span>=<span class="string">"mysql"</span>&gt;</span><br><span class="line">        &lt;!-- 配置mysql环境--&gt;</span><br><span class="line">        &lt;environment id=<span class="string">"mysql"</span>&gt;</span><br><span class="line">            &lt;!-- 配置事务的类型--&gt;</span><br><span class="line">            &lt;transactionManager type=<span class="string">"JDBC"</span>/&gt;</span><br><span class="line">            &lt;!-- 配置连接池--&gt;</span><br><span class="line">            &lt;dataSource type=<span class="string">"POOLED"</span>&gt;</span><br><span class="line">                &lt;!-- 配置连接数据库的基本信息--&gt;</span><br><span class="line">                &lt;property name=<span class="string">"driver"</span> value=<span class="string">"com.mysql.jdbc.Driver"</span>/&gt;</span><br><span class="line">                &lt;property name=<span class="string">"url"</span> value=<span class="string">"jdbc:mysql://localhost:3306/mybatis?useUnicode=true&amp;amp;characterEncoding=utf8"</span>/&gt;</span><br><span class="line">                &lt;property name=<span class="string">"username"</span> value=<span class="string">"root"</span>/&gt;</span><br><span class="line">                &lt;property name=<span class="string">"password"</span> value=<span class="string">"123456"</span>/&gt;</span><br><span class="line">            &lt;/dataSource&gt;</span><br><span class="line">        &lt;/environment&gt;</span><br><span class="line">    &lt;/environments&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 指定映射配置文件的位置，映射配置文件是指每个dao独立的配置文件--&gt;</span><br><span class="line">    &lt;mappers&gt;</span><br><span class="line">        &lt;mapper resource=<span class="string">"com/itheima/dao/IUserDao.xml"</span>/&gt;</span><br><span class="line">    &lt;/mappers&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>

<h3 id="7-编写测试类"><a href="#7-编写测试类" class="headerlink" title="7. 编写测试类"></a>7. 编写测试类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itheima.dao.IUerDao;</span><br><span class="line"><span class="keyword">import</span> com.itheima.domain.User;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisTest</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 入门案例</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//1.读取配置文件</span></span><br><span class="line">        InputStream in = Resources.getResourceAsStream(<span class="string">"SqlMapConfig.xml"</span>);</span><br><span class="line">        <span class="comment">//2.创建SqlSessionFactory工厂</span></span><br><span class="line">        SqlSessionFactoryBuilder builder = <span class="keyword">new</span> SqlSessionFactoryBuilder();</span><br><span class="line">        SqlSessionFactory factory = builder.build(in);</span><br><span class="line">        <span class="comment">//3.使用工厂生产SqlSession对象</span></span><br><span class="line">        SqlSession session = factory.openSession();</span><br><span class="line">        <span class="comment">//4.使用SqlSession创建Dao接口的代理对象</span></span><br><span class="line">        IUerDao userDao = session.getMapper(IUerDao<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        <span class="comment">//5.使用代理对象执行方法</span></span><br><span class="line">        List&lt;User&gt; users = userDao.findAll();</span><br><span class="line">        <span class="keyword">for</span> (User user:users) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//6.释放资源</span></span><br><span class="line">        session.close();</span><br><span class="line">        in.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/111zx/111zx.github.io/2020/05/20/MyBatis/" data-id="ckbbzdvrs0000t8ub95j8fhoc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/07/06/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E7%B3%BB%E7%BB%9F/">文件传输系统</a>
          </li>
        
          <li>
            <a href="/2020/07/05/1.%20%E7%82%B9%E5%87%BB%E6%96%87%E4%BB%B6%E6%A0%91%E6%98%BE%E7%A4%BA%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8/">1. 点击文件树显示文件列表</a>
          </li>
        
          <li>
            <a href="/2020/06/22/IO%E6%B5%81/">IO流</a>
          </li>
        
          <li>
            <a href="/2020/06/10/%E6%B3%9B%E5%9E%8B/">泛型</a>
          </li>
        
          <li>
            <a href="/2020/06/09/%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AF%BE%E7%A8%8B%E6%8A%A5%E5%91%8A/">软件体系结构课程报告</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 zx<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>